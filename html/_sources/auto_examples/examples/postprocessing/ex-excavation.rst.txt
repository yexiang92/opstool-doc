
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples\examples\postprocessing\ex-excavation.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_examples_postprocessing_ex-excavation.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_examples_postprocessing_ex-excavation.py:


Excavation Supported by Cantilevered Sheet Pile Wall
=======================================================

This example is from file
`Excavation Supported by Cantilevered Sheet Pile Wall <https://opensees.berkeley.edu/wiki/index.php?title=Excavation_Supported_by_Cantilevered_Sheet_Pile_Wall>`_
on the OpenSees website and has been converted using
`opst.pre.tcl2py <https://opstool.readthedocs.io/en/latest/src/api/pre.html#opstool.pre.tcl2py>`_
The python model script can be found here
`excavation.py <https://ln5.sync.com/dl/41ad07bf0#ice8pjty-62im9fq9-qegdsiq6-rubwni3n>`_

.. GENERATED FROM PYTHON SOURCE LINES 14-16

.. code-block:: Python

    import openseespy.opensees as ops








.. GENERATED FROM PYTHON SOURCE LINES 17-19

Load the FEM model function ``FEMmodel`` from file `excavation.py`.
[excavation.py](https://github.com/yexiang1992/opstool/blob/master/docs/examples/post/excavation/excavation.py)

.. GENERATED FROM PYTHON SOURCE LINES 19-26

.. code-block:: Python

    from utils.excavation import FEMmodel

    import opstool as opst
    import opstool.vis.pyvista as opsvis

    FEMmodel()








.. GENERATED FROM PYTHON SOURCE LINES 27-30

.. code-block:: Python

    opsvis.set_plot_props(point_size=1, font_size=9)
    opsvis.plot_model(show_node_numbering=True, show_ele_numbering=True).show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_001.png
        :alt: ex excavation
        :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_001.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\auto_examples\examples\postprocessing\images\sphx_glr_ex-excavation_001.vtksz






.. GENERATED FROM PYTHON SOURCE LINES 31-33

Create output database (ODB) file.
Since some elements and nodes will be removed in subsequent analyses, ensure that ``model_update=True``.

.. GENERATED FROM PYTHON SOURCE LINES 33-41

.. code-block:: Python


    ODB = opst.post.CreateODB(
        odb_tag=1,
        model_update=True,
        compute_mechanical_measures=True,
        project_gauss_to_nodes="copy",
    )





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:181: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:181: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:181: UserWarning:

    eleTag 3 have no fiber sec!





.. GENERATED FROM PYTHON SOURCE LINES 42-45

GRAVITY ANALYSIS (w/ INITIAL STATE ANALYSIS TO RESET DISPLACEMENTS)
-----------------------------------------------------------------------
define analysis parameters for gravity phase

.. GENERATED FROM PYTHON SOURCE LINES 45-53

.. code-block:: Python

    ops.constraints("Transformation")
    ops.test("NormDispIncr", 1e-05, 50, 0)
    ops.algorithm("Newton")
    ops.numberer("RCM")
    ops.system("BandGeneral")
    ops.integrator("LoadControl", 1)
    ops.analysis("Static")








.. GENERATED FROM PYTHON SOURCE LINES 54-56

Perform an initial state analysis, where elements with tags 1001--1042 are
[BeamContact2D](https://opensees.berkeley.edu/wiki/index.php?title=BeamContact2D).

.. GENERATED FROM PYTHON SOURCE LINES 56-69

.. code-block:: Python


    # turn on initial state analysis feature
    ops.InitialStateAnalysis("on")
    # ensure soil material intially considers linear elastic behavior
    ops.updateMaterialStage("-material", 1, "-stage", 0)
    # set contact elements to be frictionless for gravity analysis
    ops.setParameter("-val", 0, "-eleRange", 1001, 1042, "friction")
    # analysis 4 steps, and fetch response
    for _ in range(4):
        ops.analyze(1)
        ODB.fetch_response_step()






.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!





.. GENERATED FROM PYTHON SOURCE LINES 70-71

Update soil material to consider elastoplastic behavior and analyze a few more steps:

.. GENERATED FROM PYTHON SOURCE LINES 71-83

.. code-block:: Python


    # update soil material to consider elastoplastic behavior and analyze a few more steps
    ops.updateMaterialStage("-material", 1, "-stage", 1)
    # analysis 4 steps, and fetch response
    for _ in range(4):
        ops.analyze(1)
        ODB.fetch_response_step()
    # designate end of initial state analysis (zeros displacements, keeps state variables)
    ops.InitialStateAnalysis("off")
    # turn on frictional behavior for beam contact elements
    ops.setParameter("-val", 1, "-eleRange", 1001, 1042, "friction")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!





.. GENERATED FROM PYTHON SOURCE LINES 84-86

REMOVE ELEMENTS TO SIMULATE EXCAVATION
---------------------------------------

.. GENERATED FROM PYTHON SOURCE LINES 86-97

.. code-block:: Python


    # define analysis parameters for excavation phase
    ops.wipeAnalysis()
    ops.constraints("Transformation")
    ops.test("NormDispIncr", 0.0001, 60)
    ops.algorithm("KrylovNewton")
    ops.numberer("RCM")
    ops.system("BandGeneral")
    ops.integrator("LoadControl", 1)
    ops.analysis("Static")








.. GENERATED FROM PYTHON SOURCE LINES 98-100

We first define a function to avoid repetitive removal of elements and nodes,
and then proceed with several steps of analysis.

.. GENERATED FROM PYTHON SOURCE LINES 100-113

.. code-block:: Python



    def remove_components(ele_tags, node_tags, nsteps=4):
        for etag in ele_tags:
            ops.remove("element", etag)
        for ntag in node_tags:
            ops.remove("node", ntag)
        # run analysis after object removal
        for _ in range(nsteps):
            ops.analyze(1)
            ODB.fetch_response_step()









.. GENERATED FROM PYTHON SOURCE LINES 114-115

Remove objects associated with lift 1:

.. GENERATED FROM PYTHON SOURCE LINES 115-127

.. code-block:: Python


    # soil elements
    ele_tags = [191, 192, 193, 194, 195, 196, 197, 198, 199, 200]
    ele_tags += [1042]  # contact element
    # soil nodes
    node_tags = [430, 437, 446, 455, 461, 468, 473, 476, 480, 482, 484]
    node_tags += [1042]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 1 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    Lift 1 removed




.. GENERATED FROM PYTHON SOURCE LINES 128-129

We can then remove the remaining 9 liftsï¼š

.. GENERATED FROM PYTHON SOURCE LINES 129-142

.. code-block:: Python


    # remove objects associated with lift 2
    # soil elements
    ele_tags = [181, 182, 183, 184, 185, 186, 187, 188, 189, 190]
    ele_tags += [1040]  # contact element
    # soil nodes
    node_tags = [412, 424, 433, 444, 453, 460, 466, 471, 475, 479, 483]
    node_tags += [1040]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 2 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    Lift 2 removed




.. GENERATED FROM PYTHON SOURCE LINES 143-144

remove objects associated with lift 3

.. GENERATED FROM PYTHON SOURCE LINES 144-156

.. code-block:: Python


    # soil elements
    ele_tags = [171, 172, 173, 174, 175, 176, 177, 178, 179, 180]
    ele_tags += [1038]  # contact element
    # soil nodes
    node_tags = [387, 405, 418, 429, 442, 450, 458, 464, 470, 477, 481]
    node_tags += [1038]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 3 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    Lift 3 removed




.. GENERATED FROM PYTHON SOURCE LINES 157-158

remove objects associated with lift 4

.. GENERATED FROM PYTHON SOURCE LINES 158-170

.. code-block:: Python


    # soil elements
    ele_tags = [161, 162, 163, 164, 165, 166, 167, 168, 169, 170]
    ele_tags += [1036]  # contact element
    # soil nodes
    node_tags = [363, 380, 398, 414, 427, 439, 448, 457, 465, 472, 478]
    node_tags += [1036]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 4 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    Lift 4 removed




.. GENERATED FROM PYTHON SOURCE LINES 171-172

remove objects associated with lift 5

.. GENERATED FROM PYTHON SOURCE LINES 172-184

.. code-block:: Python


    # soil elements
    ele_tags = [151, 152, 153, 154, 155, 156, 157, 158, 159, 160]
    ele_tags += [1034]  # contact element
    # soil nodes
    node_tags = [336, 353, 378, 395, 411, 425, 440, 449, 459, 467, 474]
    node_tags += [1034]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 5 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    Lift 5 removed




.. GENERATED FROM PYTHON SOURCE LINES 185-186

remove objects associated with lift 6

.. GENERATED FROM PYTHON SOURCE LINES 186-198

.. code-block:: Python


    # soil elements
    ele_tags = [141, 142, 143, 144, 145, 146, 147, 148, 149, 150]
    ele_tags += [1032]  # contact element
    # soil nodes
    node_tags = [308, 326, 347, 369, 392, 408, 426, 441, 452, 462, 469]
    node_tags += [1032]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 6 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    Lift 6 removed




.. GENERATED FROM PYTHON SOURCE LINES 199-200

remove objects associated with lift 7

.. GENERATED FROM PYTHON SOURCE LINES 200-212

.. code-block:: Python


    # soil elements
    ele_tags = [131, 132, 133, 134, 135, 136, 137, 138, 139, 140]
    ele_tags += [1030]  # contact element
    # soil nodes
    node_tags = [281, 304, 322, 345, 370, 394, 415, 428, 443, 454, 463]
    node_tags += [1030]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 7 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    Lift 7 removed




.. GENERATED FROM PYTHON SOURCE LINES 213-214

remove objects associated with lift 8

.. GENERATED FROM PYTHON SOURCE LINES 214-226

.. code-block:: Python


    # soil elements
    ele_tags = [121, 122, 123, 124, 125, 126, 127, 128, 129, 130]
    ele_tags += [1028]  # contact element
    # soil nodes
    node_tags = [260, 278, 302, 325, 346, 374, 399, 419, 434, 447, 456]
    node_tags += [1028]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 8 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    Lift 8 removed




.. GENERATED FROM PYTHON SOURCE LINES 227-228

remove objects associated with lift 9

.. GENERATED FROM PYTHON SOURCE LINES 228-240

.. code-block:: Python


    # soil elements
    ele_tags = [111, 112, 113, 114, 115, 116, 117, 118, 119, 120]
    ele_tags += [1026]  # contact element
    # soil nodes
    node_tags = [241, 253, 277, 306, 327, 350, 379, 406, 422, 438, 451]
    node_tags += [1026]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 9 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    Lift 9 removed




.. GENERATED FROM PYTHON SOURCE LINES 241-242

remove objects associated with lift 10

.. GENERATED FROM PYTHON SOURCE LINES 242-254

.. code-block:: Python


    # soil elements
    ele_tags = [101, 102, 103, 104, 105, 106, 107, 108, 109, 110]
    ele_tags += [1024]  # contact element
    # soil nodes
    node_tags = [218, 239, 259, 282, 307, 335, 364, 389, 413, 431, 445]
    node_tags += [1024]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 10 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 1 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 4 have no fiber sec!

    G:\opstool\opstool\post\_get_response\_get_fiber_sec_resp.py:316: UserWarning:

    eleTag 3 have no fiber sec!

    Lift 10 removed




.. GENERATED FROM PYTHON SOURCE LINES 255-257

We can save all previous responses to a file:
zlib compression is used to reduce file size.

.. GENERATED FROM PYTHON SOURCE LINES 257-259

.. code-block:: Python

    ODB.save_response(zlib=True)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  All responses data with _odb_tag = 1 saved in G:\opstool\docs\.opstool.output/RespStepData-1.zarr!




.. GENERATED FROM PYTHON SOURCE LINES 260-262

Post-processing
---------------

.. GENERATED FROM PYTHON SOURCE LINES 262-267

.. code-block:: Python

    import matplotlib.pyplot as plt

    import opstool as opst
    import opstool.vis.pyvista as opsvis








.. GENERATED FROM PYTHON SOURCE LINES 268-269

Since the result data has already been saved, we can read it at any time for post-processing:

.. GENERATED FROM PYTHON SOURCE LINES 269-278

.. code-block:: Python

    opsvis.set_plot_props(point_size=0, line_width=5, cmap="turbo")
    opsvis.set_plot_props(
        scalar_bar_kargs={
            "label_font_size": 12,
            "title_font_size": 13,
            "position_x": 0.85,  # 0--1
        }
    )








.. GENERATED FROM PYTHON SOURCE LINES 279-281

Nodal responses
+++++++++++++++++

.. GENERATED FROM PYTHON SOURCE LINES 281-291

.. code-block:: Python


    opsvis.plot_nodal_responses(
        odb_tag=1,
        slides=True,
        defo_scale=20,
        resp_type="disp",
        resp_dof=["UX", "UY"],
        unit_symbol="m",
    ).show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_002.png
        :alt: ex excavation
        :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_002.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\auto_examples\examples\postprocessing\images\sphx_glr_ex-excavation_002.vtksz



.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading response data from G:\opstool\docs\.opstool.output/RespStepData-1.zarr ...




.. GENERATED FROM PYTHON SOURCE LINES 293-294

We can create animations:

.. GENERATED FROM PYTHON SOURCE LINES 294-307

.. code-block:: Python


    fig = opsvis.plot_nodal_responses_animation(
        odb_tag=1,
        framerate=20,
        defo_scale=25,
        savefig="images/NodalRespAnimation-excavation.gif",
        resp_type="disp",
        resp_dof=["UX", "UY"],
        unit_symbol="m",
    )
    fig.close()






.. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_003.gif
   :alt: ex excavation
   :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_003.gif
   :class: sphx-glr-single-img




.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading response data from G:\opstool\docs\.opstool.output/RespStepData-1.zarr ...
    Animation has been saved to images/NodalRespAnimation-excavation.gif!




.. GENERATED FROM PYTHON SOURCE LINES 308-310

Frame elements responses
+++++++++++++++++++++++++++

.. GENERATED FROM PYTHON SOURCE LINES 310-325

.. code-block:: Python

    plotter = opsvis.plot_frame_responses(
        odb_tag=1,
        resp_type="sectionForces",
        resp_dof="MZ",
        unit_symbol="kNÂ·m",
        show_values="eleMaxMin",
        scale=3,
        slides=True,
        style="surface",
        show_model=False,  # plot all model
        opacity=1.0,
        show_bc=False,
    )
    plotter.show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_004.png
        :alt: ex excavation
        :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_004.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\auto_examples\examples\postprocessing\images\sphx_glr_ex-excavation_004.vtksz



.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading response data from G:\opstool\docs\.opstool.output/RespStepData-1.zarr ...




.. GENERATED FROM PYTHON SOURCE LINES 326-342

.. code-block:: Python

    opsvis.plot_frame_responses_animation(
        odb_tag=1,
        resp_type="sectionForces",
        resp_dof="MZ",
        unit_symbol="kNÂ·m",
        show_values=False,
        framerate=20,
        scale=3,
        style="surface",
        opacity=1.0,
        show_model=True,  # plot all model
        show_bc=False,
        savefig="images/FrameForcesMZ-excavation.gif",
    ).close()






.. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_005.gif
   :alt: ex excavation
   :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_005.gif
   :class: sphx-glr-single-img




.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading response data from G:\opstool\docs\.opstool.output/RespStepData-1.zarr ...
    Animation has been saved as images/FrameForcesMZ-excavation.gif!




.. GENERATED FROM PYTHON SOURCE LINES 343-345

Plane elements response
+++++++++++++++++++++++++++

.. GENERATED FROM PYTHON SOURCE LINES 345-350

.. code-block:: Python

    pl = opsvis.plot_unstruct_responses(
        odb_tag=1, slides=True, ele_type="Plane", resp_type="StressesAtNodes", resp_dof="sigma22", unit_symbol="kPa"
    )
    pl.show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_006.png
        :alt: ex excavation
        :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_006.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\auto_examples\examples\postprocessing\images\sphx_glr_ex-excavation_006.vtksz



.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading response data from G:\opstool\docs\.opstool.output/RespStepData-1.zarr ...




.. GENERATED FROM PYTHON SOURCE LINES 351-363

.. code-block:: Python

    opsvis.set_plot_props(show_mesh_edges=False)
    opsvis.plot_unstruct_responses(
        odb_tag=1,
        slides=True,
        ele_type="Plane",
        resp_type="StressesAtNodes",
        resp_dof="sigma12",
        show_defo=True,
        defo_scale=30,
        unit_symbol="MPa",
    ).show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_007.png
        :alt: ex excavation
        :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_007.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\auto_examples\examples\postprocessing\images\sphx_glr_ex-excavation_007.vtksz



.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading response data from G:\opstool\docs\.opstool.output/RespStepData-1.zarr ...




.. GENERATED FROM PYTHON SOURCE LINES 364-368

.. code-block:: Python

    opsvis.plot_unstruct_responses(
        odb_tag=1, slides=True, ele_type="Plane", resp_type="StressesAtNodes", resp_dof="sigma_vm"
    ).show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_008.png
        :alt: ex excavation
        :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_008.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\auto_examples\examples\postprocessing\images\sphx_glr_ex-excavation_008.vtksz



.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading response data from G:\opstool\docs\.opstool.output/RespStepData-1.zarr ...




.. GENERATED FROM PYTHON SOURCE LINES 369-372

Read data from ODB
+++++++++++++++++++++++++++
Reading the response of the contact element

.. GENERATED FROM PYTHON SOURCE LINES 372-375

.. code-block:: Python

    data = opst.post.get_element_responses(odb_tag=1, ele_type="Contact")
    data





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading Contact response data from G:\opstool\docs\.opstool.output/RespStepData-1.zarr ...


.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">
    <div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
    <defs>
    <symbol id="icon-database" viewBox="0 0 32 32">
    <path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
    <path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
    <path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
    </symbol>
    <symbol id="icon-file-text2" viewBox="0 0 32 32">
    <path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
    <path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    <path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    <path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    </symbol>
    </defs>
    </svg>
    <style>/* CSS stylesheet for displaying xarray objects in notebooks */

    :root {
      --xr-font-color0: var(
        --jp-content-font-color0,
        var(--pst-color-text-base rgba(0, 0, 0, 1))
      );
      --xr-font-color2: var(
        --jp-content-font-color2,
        var(--pst-color-text-base, rgba(0, 0, 0, 0.54))
      );
      --xr-font-color3: var(
        --jp-content-font-color3,
        var(--pst-color-text-base, rgba(0, 0, 0, 0.38))
      );
      --xr-border-color: var(
        --jp-border-color2,
        hsl(from var(--pst-color-on-background, white) h s calc(l - 10))
      );
      --xr-disabled-color: var(
        --jp-layout-color3,
        hsl(from var(--pst-color-on-background, white) h s calc(l - 40))
      );
      --xr-background-color: var(
        --jp-layout-color0,
        var(--pst-color-on-background, white)
      );
      --xr-background-color-row-even: var(
        --jp-layout-color1,
        hsl(from var(--pst-color-on-background, white) h s calc(l - 5))
      );
      --xr-background-color-row-odd: var(
        --jp-layout-color2,
        hsl(from var(--pst-color-on-background, white) h s calc(l - 15))
      );
    }

    html[theme="dark"],
    html[data-theme="dark"],
    body[data-theme="dark"],
    body.vscode-dark {
      --xr-font-color0: var(
        --jp-content-font-color0,
        var(--pst-color-text-base, rgba(255, 255, 255, 1))
      );
      --xr-font-color2: var(
        --jp-content-font-color2,
        var(--pst-color-text-base, rgba(255, 255, 255, 0.54))
      );
      --xr-font-color3: var(
        --jp-content-font-color3,
        var(--pst-color-text-base, rgba(255, 255, 255, 0.38))
      );
      --xr-border-color: var(
        --jp-border-color2,
        hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))
      );
      --xr-disabled-color: var(
        --jp-layout-color3,
        hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))
      );
      --xr-background-color: var(
        --jp-layout-color0,
        var(--pst-color-on-background, #111111)
      );
      --xr-background-color-row-even: var(
        --jp-layout-color1,
        hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))
      );
      --xr-background-color-row-odd: var(
        --jp-layout-color2,
        hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))
      );
    }

    .xr-wrap {
      display: block !important;
      min-width: 300px;
      max-width: 700px;
      line-height: 1.6;
    }

    .xr-text-repr-fallback {
      /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
      display: none;
    }

    .xr-header {
      padding-top: 6px;
      padding-bottom: 6px;
      margin-bottom: 4px;
      border-bottom: solid 1px var(--xr-border-color);
    }

    .xr-header > div,
    .xr-header > ul {
      display: inline;
      margin-top: 0;
      margin-bottom: 0;
    }

    .xr-obj-type,
    .xr-obj-name,
    .xr-group-name {
      margin-left: 2px;
      margin-right: 10px;
    }

    .xr-group-name::before {
      content: "ðŸ“";
      padding-right: 0.3em;
    }

    .xr-group-name,
    .xr-obj-type {
      color: var(--xr-font-color2);
    }

    .xr-sections {
      padding-left: 0 !important;
      display: grid;
      grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
      margin-block-start: 0;
      margin-block-end: 0;
    }

    .xr-section-item {
      display: contents;
    }

    .xr-section-item input {
      display: inline-block;
      opacity: 0;
      height: 0;
      margin: 0;
    }

    .xr-section-item input + label {
      color: var(--xr-disabled-color);
      border: 2px solid transparent !important;
    }

    .xr-section-item input:enabled + label {
      cursor: pointer;
      color: var(--xr-font-color2);
    }

    .xr-section-item input:focus + label {
      border: 2px solid var(--xr-font-color0) !important;
    }

    .xr-section-item input:enabled + label:hover {
      color: var(--xr-font-color0);
    }

    .xr-section-summary {
      grid-column: 1;
      color: var(--xr-font-color2);
      font-weight: 500;
    }

    .xr-section-summary > span {
      display: inline-block;
      padding-left: 0.5em;
    }

    .xr-section-summary-in:disabled + label {
      color: var(--xr-font-color2);
    }

    .xr-section-summary-in + label:before {
      display: inline-block;
      content: "â–º";
      font-size: 11px;
      width: 15px;
      text-align: center;
    }

    .xr-section-summary-in:disabled + label:before {
      color: var(--xr-disabled-color);
    }

    .xr-section-summary-in:checked + label:before {
      content: "â–¼";
    }

    .xr-section-summary-in:checked + label > span {
      display: none;
    }

    .xr-section-summary,
    .xr-section-inline-details {
      padding-top: 4px;
    }

    .xr-section-inline-details {
      grid-column: 2 / -1;
    }

    .xr-section-details {
      display: none;
      grid-column: 1 / -1;
      margin-top: 4px;
      margin-bottom: 5px;
    }

    .xr-section-summary-in:checked ~ .xr-section-details {
      display: contents;
    }

    .xr-group-box {
      display: inline-grid;
      grid-template-columns: 0px 20px auto;
      width: 100%;
    }

    .xr-group-box-vline {
      grid-column-start: 1;
      border-right: 0.2em solid;
      border-color: var(--xr-border-color);
      width: 0px;
    }

    .xr-group-box-hline {
      grid-column-start: 2;
      grid-row-start: 1;
      height: 1em;
      width: 20px;
      border-bottom: 0.2em solid;
      border-color: var(--xr-border-color);
    }

    .xr-group-box-contents {
      grid-column-start: 3;
    }

    .xr-array-wrap {
      grid-column: 1 / -1;
      display: grid;
      grid-template-columns: 20px auto;
    }

    .xr-array-wrap > label {
      grid-column: 1;
      vertical-align: top;
    }

    .xr-preview {
      color: var(--xr-font-color3);
    }

    .xr-array-preview,
    .xr-array-data {
      padding: 0 5px !important;
      grid-column: 2;
    }

    .xr-array-data,
    .xr-array-in:checked ~ .xr-array-preview {
      display: none;
    }

    .xr-array-in:checked ~ .xr-array-data,
    .xr-array-preview {
      display: inline-block;
    }

    .xr-dim-list {
      display: inline-block !important;
      list-style: none;
      padding: 0 !important;
      margin: 0;
    }

    .xr-dim-list li {
      display: inline-block;
      padding: 0;
      margin: 0;
    }

    .xr-dim-list:before {
      content: "(";
    }

    .xr-dim-list:after {
      content: ")";
    }

    .xr-dim-list li:not(:last-child):after {
      content: ",";
      padding-right: 5px;
    }

    .xr-has-index {
      font-weight: bold;
    }

    .xr-var-list,
    .xr-var-item {
      display: contents;
    }

    .xr-var-item > div,
    .xr-var-item label,
    .xr-var-item > .xr-var-name span {
      background-color: var(--xr-background-color-row-even);
      border-color: var(--xr-background-color-row-odd);
      margin-bottom: 0;
      padding-top: 2px;
    }

    .xr-var-item > .xr-var-name:hover span {
      padding-right: 5px;
    }

    .xr-var-list > li:nth-child(odd) > div,
    .xr-var-list > li:nth-child(odd) > label,
    .xr-var-list > li:nth-child(odd) > .xr-var-name span {
      background-color: var(--xr-background-color-row-odd);
      border-color: var(--xr-background-color-row-even);
    }

    .xr-var-name {
      grid-column: 1;
    }

    .xr-var-dims {
      grid-column: 2;
    }

    .xr-var-dtype {
      grid-column: 3;
      text-align: right;
      color: var(--xr-font-color2);
    }

    .xr-var-preview {
      grid-column: 4;
    }

    .xr-index-preview {
      grid-column: 2 / 5;
      color: var(--xr-font-color2);
    }

    .xr-var-name,
    .xr-var-dims,
    .xr-var-dtype,
    .xr-preview,
    .xr-attrs dt {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      padding-right: 10px;
    }

    .xr-var-name:hover,
    .xr-var-dims:hover,
    .xr-var-dtype:hover,
    .xr-attrs dt:hover {
      overflow: visible;
      width: auto;
      z-index: 1;
    }

    .xr-var-attrs,
    .xr-var-data,
    .xr-index-data {
      display: none;
      border-top: 2px dotted var(--xr-background-color);
      padding-bottom: 20px !important;
      padding-top: 10px !important;
    }

    .xr-var-attrs-in + label,
    .xr-var-data-in + label,
    .xr-index-data-in + label {
      padding: 0 1px;
    }

    .xr-var-attrs-in:checked ~ .xr-var-attrs,
    .xr-var-data-in:checked ~ .xr-var-data,
    .xr-index-data-in:checked ~ .xr-index-data {
      display: block;
    }

    .xr-var-data > table {
      float: right;
    }

    .xr-var-data > pre,
    .xr-index-data > pre,
    .xr-var-data > table > tbody > tr {
      background-color: transparent !important;
    }

    .xr-var-name span,
    .xr-var-data,
    .xr-index-name div,
    .xr-index-data,
    .xr-attrs {
      padding-left: 25px !important;
    }

    .xr-attrs,
    .xr-var-attrs,
    .xr-var-data,
    .xr-index-data {
      grid-column: 1 / -1;
    }

    dl.xr-attrs {
      padding: 0;
      margin: 0;
      display: grid;
      grid-template-columns: 125px auto;
    }

    .xr-attrs dt,
    .xr-attrs dd {
      padding: 0;
      margin: 0;
      float: left;
      padding-right: 10px;
      width: auto;
    }

    .xr-attrs dt {
      font-weight: normal;
      grid-column: 1;
    }

    .xr-attrs dt:hover span {
      display: inline-block;
      background: var(--xr-background-color);
      padding-right: 10px;
    }

    .xr-attrs dd {
      grid-column: 2;
      white-space: pre-wrap;
      word-break: break-all;
    }

    .xr-icon-database,
    .xr-icon-file-text2,
    .xr-no-icon {
      display: inline-block;
      vertical-align: middle;
      width: 1em;
      height: 1.5em !important;
      stroke-width: 0;
      stroke: currentColor;
      fill: currentColor;
    }

    .xr-var-attrs-in:checked + label > .xr-icon-file-text2,
    .xr-var-data-in:checked + label > .xr-icon-database,
    .xr-index-data-in:checked + label > .xr-icon-database {
      color: var(--xr-font-color0);
      filter: drop-shadow(1px 1px 5px var(--xr-font-color2));
      stroke-width: 0.8px;
    }
    </style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 91kB
    Dimensions:       (time: 49, eleTags: 42, globalDOFs: 3, localDOFs: 3,
                       slipDOFs: 2)
    Coordinates:
      * time          (time) float32 196B 0.0 1.0 2.0 3.0 ... 37.0 38.0 39.0 40.0
      * eleTags       (eleTags) int64 336B 1001 1002 1003 1004 ... 1040 1041 1042
      * globalDOFs    (globalDOFs) &lt;U2 24B &#x27;Px&#x27; &#x27;Py&#x27; &#x27;Pz&#x27;
      * localDOFs     (localDOFs) &lt;U2 24B &#x27;N&#x27; &#x27;Tx&#x27; &#x27;Ty&#x27;
      * slipDOFs      (slipDOFs) &lt;U2 16B &#x27;Tx&#x27; &#x27;Ty&#x27;
    Data variables:
        globalForces  (time, eleTags, globalDOFs) float32 25kB -0.0 -0.0 ... nan nan
        localDisp     (time, eleTags, localDOFs) float32 25kB 0.0 0.0 ... nan nan
        localForces   (time, eleTags, localDOFs) float32 25kB 0.0 0.0 ... nan nan
        slips         (time, eleTags, slipDOFs) float32 16kB 0.0 0.0 0.0 ... nan nan
    Attributes:
        Px:       Global force in the x-direction on the constrained node
        Py:       Global force in the y-direction on the constrained node
        Pz:       Global force in the z-direction on the constrained node
        N:        Normal force or deformation
        Tx:       Tangential force or deformation in the x-direction
        Ty:       Tangential force or deformation in the y-direction</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-91c7bc3e-8977-4061-b2c5-de2160e00dd2' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-91c7bc3e-8977-4061-b2c5-de2160e00dd2' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 49</li><li><span class='xr-has-index'>eleTags</span>: 42</li><li><span class='xr-has-index'>globalDOFs</span>: 3</li><li><span class='xr-has-index'>localDOFs</span>: 3</li><li><span class='xr-has-index'>slipDOFs</span>: 2</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-d0f2abd2-0ec3-4082-9e12-cb90fc7d6f6d' class='xr-section-summary-in' type='checkbox'  checked><label for='section-d0f2abd2-0ec3-4082-9e12-cb90fc7d6f6d' class='xr-section-summary' >Coordinates: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.0 1.0 2.0 3.0 ... 38.0 39.0 40.0</div><input id='attrs-83072583-2813-43a7-bf91-559d193b9b2c' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-83072583-2813-43a7-bf91-559d193b9b2c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-29482bfd-65a9-420e-92e5-e6fdbfe58538' class='xr-var-data-in' type='checkbox'><label for='data-29482bfd-65a9-420e-92e5-e6fdbfe58538' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  1.,  2.,  3.,  4.,  5.,
            6.,  7.,  8.,  9., 10., 11., 12., 13., 14., 15., 16., 17., 18., 19.,
           20., 21., 22., 23., 24., 25., 26., 27., 28., 29., 30., 31., 32., 33.,
           34., 35., 36., 37., 38., 39., 40.], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>eleTags</span></div><div class='xr-var-dims'>(eleTags)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1001 1002 1003 ... 1040 1041 1042</div><input id='attrs-7d22f11d-260d-4f4e-9705-ec3f4150a260' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-7d22f11d-260d-4f4e-9705-ec3f4150a260' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e9ceff8f-b5ad-44dc-8615-cca68951212e' class='xr-var-data-in' type='checkbox'><label for='data-e9ceff8f-b5ad-44dc-8615-cca68951212e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1001, 1002, 1003, 1004, 1005, 1006, 1007, 1008, 1009, 1010, 1011, 1012,
           1013, 1014, 1015, 1016, 1017, 1018, 1019, 1020, 1021, 1022, 1023, 1024,
           1025, 1026, 1027, 1028, 1029, 1030, 1031, 1032, 1033, 1034, 1035, 1036,
           1037, 1038, 1039, 1040, 1041, 1042])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>globalDOFs</span></div><div class='xr-var-dims'>(globalDOFs)</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;Px&#x27; &#x27;Py&#x27; &#x27;Pz&#x27;</div><input id='attrs-b6089f79-5148-4b45-8f4f-a2753d957864' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-b6089f79-5148-4b45-8f4f-a2753d957864' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f4887653-42bb-4cdd-baa5-0904a775a79e' class='xr-var-data-in' type='checkbox'><label for='data-f4887653-42bb-4cdd-baa5-0904a775a79e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;Px&#x27;, &#x27;Py&#x27;, &#x27;Pz&#x27;], dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>localDOFs</span></div><div class='xr-var-dims'>(localDOFs)</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;N&#x27; &#x27;Tx&#x27; &#x27;Ty&#x27;</div><input id='attrs-83deab0a-308e-4d10-9994-4a0bbbddb2d9' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-83deab0a-308e-4d10-9994-4a0bbbddb2d9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4b5fa584-ff2c-4616-bf95-033e95539d87' class='xr-var-data-in' type='checkbox'><label for='data-4b5fa584-ff2c-4616-bf95-033e95539d87' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;N&#x27;, &#x27;Tx&#x27;, &#x27;Ty&#x27;], dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>slipDOFs</span></div><div class='xr-var-dims'>(slipDOFs)</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;Tx&#x27; &#x27;Ty&#x27;</div><input id='attrs-7b60da60-8dc3-4295-ab37-d9ca3de50bdc' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-7b60da60-8dc3-4295-ab37-d9ca3de50bdc' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7d6220bb-87df-4cd7-b18a-a8a3f0166189' class='xr-var-data-in' type='checkbox'><label for='data-7d6220bb-87df-4cd7-b18a-a8a3f0166189' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;Tx&#x27;, &#x27;Ty&#x27;], dtype=&#x27;&lt;U2&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-930606a3-4967-45fa-8764-e0f91ee40c7a' class='xr-section-summary-in' type='checkbox'  checked><label for='section-930606a3-4967-45fa-8764-e0f91ee40c7a' class='xr-section-summary' >Data variables: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>globalForces</span></div><div class='xr-var-dims'>(time, eleTags, globalDOFs)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-0.0 -0.0 0.0 -0.0 ... nan nan nan</div><input id='attrs-63d50795-8fd7-41e7-8db3-416dd10db72a' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-63d50795-8fd7-41e7-8db3-416dd10db72a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-64d6645c-483e-4ff3-9f1b-8045b8df1c75' class='xr-var-data-in' type='checkbox'><label for='data-64d6645c-483e-4ff3-9f1b-8045b8df1c75' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[-0.0000000e+00, -0.0000000e+00,  0.0000000e+00],
            [-0.0000000e+00, -0.0000000e+00,  0.0000000e+00],
            [-0.0000000e+00, -0.0000000e+00,  0.0000000e+00],
            ...,
            [-0.0000000e+00, -0.0000000e+00,  0.0000000e+00],
            [-0.0000000e+00, -0.0000000e+00,  0.0000000e+00],
            [-0.0000000e+00, -0.0000000e+00,  0.0000000e+00]],

           [[-2.2277697e+01,  1.2898215e-16,  0.0000000e+00],
            [ 2.2277697e+01, -1.2898215e-16,  0.0000000e+00],
            [-4.3412949e+01, -0.0000000e+00,  0.0000000e+00],
            ...,
            [ 2.2848918e+00, -1.6235133e-14,  0.0000000e+00],
            [-5.7122296e-01, -4.0587833e-15,  0.0000000e+00],
            [ 5.7122296e-01, -4.0587833e-15,  0.0000000e+00]],

           [[-2.2277697e+01,  3.4214551e-16,  0.0000000e+00],
            [ 2.2277697e+01, -3.4214551e-16,  0.0000000e+00],
            [-4.3412949e+01,  2.1286442e-16,  0.0000000e+00],
            ...,
    ...
            [           nan,            nan,            nan],
            [-4.1343015e-02,  9.7618526e-04,  0.0000000e+00],
            [           nan,            nan,            nan]],

           [[-2.6858183e+01,  1.3562502e-01,  0.0000000e+00],
            [ 8.8400278e+00, -1.0248453e-01,  0.0000000e+00],
            [-3.9127411e+01,  3.6174440e-01,  0.0000000e+00],
            ...,
            [           nan,            nan,            nan],
            [-4.1335627e-02,  9.7796472e-04,  0.0000000e+00],
            [           nan,            nan,            nan]],

           [[-2.6858181e+01,  1.3562506e-01,  0.0000000e+00],
            [ 8.8400249e+00, -1.0248456e-01,  0.0000000e+00],
            [-3.9127403e+01,  3.6174452e-01,  0.0000000e+00],
            ...,
            [           nan,            nan,            nan],
            [-4.1335266e-02,  9.7783026e-04,  0.0000000e+00],
            [           nan,            nan,            nan]]],
          shape=(49, 42, 3), dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>localDisp</span></div><div class='xr-var-dims'>(time, eleTags, localDOFs)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.0 0.0 0.0 0.0 ... 0.0 nan nan nan</div><input id='attrs-50d47346-4598-47e4-b5a0-55dae09c7d19' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-50d47346-4598-47e4-b5a0-55dae09c7d19' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e6fdd356-fc77-42e0-843b-e8c9b64a7cbf' class='xr-var-data-in' type='checkbox'><label for='data-e6fdd356-fc77-42e0-843b-e8c9b64a7cbf' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            ...,
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.]],

           [[ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            ...,
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.]],

           [[ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            ...,
    ...
            ...,
            [nan, nan, nan],
            [ 0.,  0.,  0.],
            [nan, nan, nan]],

           [[ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            ...,
            [nan, nan, nan],
            [ 0.,  0.,  0.],
            [nan, nan, nan]],

           [[ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            ...,
            [nan, nan, nan],
            [ 0.,  0.,  0.],
            [nan, nan, nan]]], shape=(49, 42, 3), dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>localForces</span></div><div class='xr-var-dims'>(time, eleTags, localDOFs)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.0 0.0 0.0 0.0 ... 0.0 nan nan nan</div><input id='attrs-faf0c30b-fe1d-4484-87aa-14394c145374' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-faf0c30b-fe1d-4484-87aa-14394c145374' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-acf6af04-a8bc-45f6-83dd-cb97f2840fa8' class='xr-var-data-in' type='checkbox'><label for='data-acf6af04-a8bc-45f6-83dd-cb97f2840fa8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[ 0.0000000e+00,  0.0000000e+00,  0.0000000e+00],
            [ 0.0000000e+00,  0.0000000e+00,  0.0000000e+00],
            [ 0.0000000e+00,  0.0000000e+00,  0.0000000e+00],
            ...,
            [ 0.0000000e+00,  0.0000000e+00,  0.0000000e+00],
            [ 0.0000000e+00,  0.0000000e+00,  0.0000000e+00],
            [ 0.0000000e+00,  0.0000000e+00,  0.0000000e+00]],

           [[ 2.2277697e+01, -2.5796431e-16,  0.0000000e+00],
            [ 2.2277697e+01,  2.5796431e-16,  0.0000000e+00],
            [ 4.3412949e+01,  0.0000000e+00,  0.0000000e+00],
            ...,
            [ 2.2848918e+00,  0.0000000e+00,  0.0000000e+00],
            [ 5.7122296e-01,  0.0000000e+00,  0.0000000e+00],
            [ 5.7122296e-01,  0.0000000e+00,  0.0000000e+00]],

           [[ 2.2277697e+01, -6.8429102e-16,  0.0000000e+00],
            [ 2.2277697e+01,  6.8429102e-16,  0.0000000e+00],
            [ 4.3412949e+01, -4.2572884e-16,  0.0000000e+00],
            ...,
    ...
            [           nan,            nan,            nan],
            [ 4.1345987e-02, -1.6815730e-03,  0.0000000e+00],
            [           nan,            nan,            nan]],

           [[ 2.6858387e+01, -1.7246141e-01,  0.0000000e+00],
            [ 8.8402014e+00,  1.7245381e-01,  0.0000000e+00],
            [ 3.9128014e+01, -5.7866025e-01,  0.0000000e+00],
            ...,
            [           nan,            nan,            nan],
            [ 4.1338608e-02, -1.6851805e-03,  0.0000000e+00],
            [           nan,            nan,            nan]],

           [[ 2.6858385e+01, -1.7246147e-01,  0.0000000e+00],
            [ 8.8401985e+00,  1.7245387e-01,  0.0000000e+00],
            [ 3.9128006e+01, -5.7866043e-01,  0.0000000e+00],
            ...,
            [           nan,            nan,            nan],
            [ 4.1338246e-02, -1.6849140e-03,  0.0000000e+00],
            [           nan,            nan,            nan]]],
          shape=(49, 42, 3), dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>slips</span></div><div class='xr-var-dims'>(time, eleTags, slipDOFs)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.0 0.0 0.0 0.0 ... 0.0 0.0 nan nan</div><input id='attrs-e33bb5e6-93fc-453b-bcbf-d5afec9fb775' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-e33bb5e6-93fc-453b-bcbf-d5afec9fb775' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c2100f5c-b4c1-4910-9af3-c05b0354fa8a' class='xr-var-data-in' type='checkbox'><label for='data-c2100f5c-b4c1-4910-9af3-c05b0354fa8a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[ 0.,  0.],
            [ 0.,  0.],
            [ 0.,  0.],
            ...,
            [ 0.,  0.],
            [ 0.,  0.],
            [ 0.,  0.]],

           [[ 0.,  0.],
            [ 0.,  0.],
            [ 0.,  0.],
            ...,
            [ 0.,  0.],
            [ 0.,  0.],
            [ 0.,  0.]],

           [[ 0.,  0.],
            [ 0.,  0.],
            [ 0.,  0.],
            ...,
    ...
            ...,
            [nan, nan],
            [ 0.,  0.],
            [nan, nan]],

           [[ 0.,  0.],
            [ 0.,  0.],
            [ 0.,  0.],
            ...,
            [nan, nan],
            [ 0.,  0.],
            [nan, nan]],

           [[ 0.,  0.],
            [ 0.,  0.],
            [ 0.,  0.],
            ...,
            [nan, nan],
            [ 0.,  0.],
            [nan, nan]]], shape=(49, 42, 2), dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-4d9d2559-f929-4638-8619-c2e1d4ce75ef' class='xr-section-summary-in' type='checkbox'  checked><label for='section-4d9d2559-f929-4638-8619-c2e1d4ce75ef' class='xr-section-summary' >Attributes: <span>(6)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>Px :</span></dt><dd>Global force in the x-direction on the constrained node</dd><dt><span>Py :</span></dt><dd>Global force in the y-direction on the constrained node</dd><dt><span>Pz :</span></dt><dd>Global force in the z-direction on the constrained node</dd><dt><span>N :</span></dt><dd>Normal force or deformation</dd><dt><span>Tx :</span></dt><dd>Tangential force or deformation in the x-direction</dd><dt><span>Ty :</span></dt><dd>Tangential force or deformation in the y-direction</dd></dl></div></li></ul></div></div>
    </div>
    <br />
    <br />

.. GENERATED FROM PYTHON SOURCE LINES 376-379

.. code-block:: Python

    data["localForces"].sel(eleTags=1001).plot.line(x="time")
    plt.show()




.. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_009.png
   :alt: eleTags = 1001
   :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_009.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 380-383

Let's examine the response of contact element #1034.
Since it is removed during the fifth lift, its response is truncated at time=16,
and subsequent data will be filled with ``numpy.nan``.

.. GENERATED FROM PYTHON SOURCE LINES 383-386

.. code-block:: Python

    data["localForces"].sel(eleTags=1034).plot.line(x="time")
    plt.show()




.. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_010.png
   :alt: eleTags = 1034
   :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_010.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 387-389

.. code-block:: Python

    data["localForces"].sel(eleTags=1034).data








.. GENERATED FROM PYTHON SOURCE LINES 390-391

Reading the response of the beam element

.. GENERATED FROM PYTHON SOURCE LINES 391-394

.. code-block:: Python

    data = opst.post.get_element_responses(odb_tag=1, ele_type="Frame")
    print(data)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading Frame response data from G:\opstool\docs\.opstool.output/RespStepData-1.zarr ...
    <xarray.Dataset> Size: 309kB
    Dimensions:              (time: 49, eleTags: 21, basicDofs: 6, localDofs: 12,
                              secPoints: 3, locs: 3, secDofs: 6)
    Coordinates:
      * time                 (time) float32 196B 0.0 1.0 2.0 3.0 ... 38.0 39.0 40.0
      * eleTags              (eleTags) int64 168B 401 402 403 404 ... 419 420 421
      * basicDofs            (basicDofs) <U3 72B 'N' 'MZ1' 'MZ2' 'MY1' 'MY2' 'T'
      * localDofs            (localDofs) <U3 144B 'FX1' 'FY1' 'FZ1' ... 'MY2' 'MZ2'
      * secPoints            (secPoints) int64 24B 1 2 3
      * locs                 (locs) <U5 60B 'alpha' 'X' 'Y'
      * secDofs              (secDofs) <U2 48B 'N' 'MZ' 'VY' 'MY' 'VZ' 'T'
    Data variables:
        basicDeformations    (time, eleTags, basicDofs) float32 25kB 0.0 ... 0.0
        basicForces          (time, eleTags, basicDofs) float32 25kB 0.0 ... 0.0
        localForces          (time, eleTags, localDofs) float32 49kB -0.0 ... 0.0...
        plasticDeformation   (time, eleTags, basicDofs) float32 25kB 0.0 ... 0.0
        sectionLocs          (time, eleTags, secPoints, locs) float32 37kB 0.1127...
        sectionForces        (time, eleTags, secPoints, secDofs) float32 74kB 0.0...
        sectionDeformations  (time, eleTags, secPoints, secDofs) float32 74kB 0.0...
    Attributes:
        localDofs:  local coord system dofs at end 1 and end 2
        basicDofs:  basic coord system dofs at end 1 and end 2
        secPoints:  section points No.
        secDofs:    section forces and deformations Dofs. Note that the section D...
        Notes:      Note that the deformations are displacements and rotations in...




.. GENERATED FROM PYTHON SOURCE LINES 395-397

.. code-block:: Python

    data = opst.post.get_element_responses(odb_tag=1, ele_type="Plane")
    print(data)




.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading Plane response data from G:\opstool\docs\.opstool.output/RespStepData-1.zarr ...
    <xarray.Dataset> Size: 7MB
    Dimensions:                (time: 49, nodeTags: 462, eleTags: 400,
                                GaussPoints: 4, strainDOFs: 3, stressDOFs: 5,
                                measures: 8)
    Coordinates:
      * time                   (time) float32 196B 0.0 1.0 2.0 ... 38.0 39.0 40.0
      * nodeTags               (nodeTags) int64 4kB 1 2 3 4 5 ... 481 482 483 484
      * eleTags                (eleTags) int64 3kB 1 2 3 4 5 ... 396 397 398 399 400
      * GaussPoints            (GaussPoints) int64 32B 1 2 3 4
      * strainDOFs             (strainDOFs) <U5 60B 'eps11' 'eps22' 'eps12'
      * stressDOFs             (stressDOFs) <U7 140B 'sigma11' ... 'para#1'
      * measures               (measures) <U9 288B 'p1' 'p2' ... 'tau_oct' 'tau_max'
    Data variables:
        PorePressureAtNodes    (time, nodeTags) float64 181kB 0.0 0.0 ... nan nan
        Strains                (time, eleTags, GaussPoints, strainDOFs) float32 941kB ...
        StrainsAtNodesErr      (time, nodeTags, strainDOFs) float32 272kB 0.0 ......
        StrainsAtNodes         (time, nodeTags, strainDOFs) float32 272kB 0.0 ......
        StressesAtNodes        (time, nodeTags, stressDOFs) float32 453kB 0.0 ......
        StressMeasuresAtNodes  (time, nodeTags, measures) float32 724kB 0.0 ... nan
        StressAtNodesErr       (time, nodeTags, stressDOFs) float32 453kB 0.0 ......
        Stresses               (time, eleTags, GaussPoints, stressDOFs) float32 2MB ...
        StressMeasures         (time, eleTags, GaussPoints, measures) float32 3MB ...
    Attributes: (12/17)
        sigma11, sigma22, sigma12:             Normal stress and shear stress in ...
        sigma33:                               Out-of-plane normal stress.
        para#i:                                The additional output of stress, w...
        p1, p2, p3:                            Principal stresses, p3=0 for 2D pl...
        theta:                                 Angle (degrees) between x-axis and...
        sigma_vm:                              Von Mises stress.
        ...                                    ...
        sigma_mohr_coulomb_c_phi_eq:           Mohr-Coulomb equivalent stress (us...
        sigma_mohr_coulomb_c_phi_intensity:    Mohr-Coulomb intensity (using cohe...
        sigma_drucker_prager_sy_eq:            Drucker-Prager equivalent stress (...
        sigma_drucker_prager_sy_intensity:     Drucker-Prager intensity (using te...
        sigma_drucker_prager_c_phi_eq:         Drucker-Prager equivalent stress (...
        sigma_drucker_prager_c_phi_intensity:  Drucker-Prager intensity (using co...





.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 35.682 seconds)


.. _sphx_glr_download_auto_examples_examples_postprocessing_ex-excavation.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: ex-excavation.ipynb <ex-excavation.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: ex-excavation.py <ex-excavation.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: ex-excavation.zip <ex-excavation.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
