
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples\examples\postprocessing\ex-excavation.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_examples_postprocessing_ex-excavation.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_examples_postprocessing_ex-excavation.py:


Excavation Supported by Cantilevered Sheet Pile Wall
=======================================================

This example is from file
`Excavation Supported by Cantilevered Sheet Pile Wall <https://opensees.berkeley.edu/wiki/index.php?title=Excavation_Supported_by_Cantilevered_Sheet_Pile_Wall>`_
on the OpenSees website and has been converted using
`opst.pre.tcl2py <https://opstool.readthedocs.io/en/latest/src/api/pre.html#opstool.pre.tcl2py>`_
The python model script can be found here
`excavation.py <https://ln5.sync.com/dl/41ad07bf0#ice8pjty-62im9fq9-qegdsiq6-rubwni3n>`_

.. GENERATED FROM PYTHON SOURCE LINES 12-15

.. code-block:: Python


    import openseespy.opensees as ops








.. GENERATED FROM PYTHON SOURCE LINES 16-18

Load the FEM model function ``FEMmodel`` from file `excavation.py`.
[excavation.py](https://github.com/yexiang1992/opstool/blob/master/docs/examples/post/excavation/excavation.py)

.. GENERATED FROM PYTHON SOURCE LINES 18-25

.. code-block:: Python

    from utils.excavation import FEMmodel

    import opstool as opst
    import opstool.vis.pyvista as opsvis

    FEMmodel()





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    InitialStateAnalysisWrapper nDmaterial - Written: C.McGann, P.Arduino, P.Mackenzie-Helnwein, U.Washington
    ContactMaterial2D nDmaterial - Written: K.Petek, P.Mackenzie-Helnwein, P.Arduino, U.Washington
    BeamContact2D element - Written: C.McGann, P.Arduino, P.Mackenzie-Helnwein, U.Washington




.. GENERATED FROM PYTHON SOURCE LINES 26-29

.. code-block:: Python

    opsvis.set_plot_props(point_size=1, font_size=9)
    opsvis.plot_model(show_node_numbering=True, show_ele_numbering=True).show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_001.png
        :alt: ex excavation
        :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_001.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\auto_examples\examples\postprocessing\images\sphx_glr_ex-excavation_001.vtksz






.. GENERATED FROM PYTHON SOURCE LINES 30-32

Create output database (ODB) file.
Since some elements and nodes will be removed in subsequent analyses, ensure that ``model_update=True``.

.. GENERATED FROM PYTHON SOURCE LINES 32-40

.. code-block:: Python


    ODB = opst.post.CreateODB(
        odb_tag=1,
        model_update=True,
        compute_mechanical_measures=True,
        project_gauss_to_nodes="copy",
    )








.. GENERATED FROM PYTHON SOURCE LINES 41-44

GRAVITY ANALYSIS (w/ INITIAL STATE ANALYSIS TO RESET DISPLACEMENTS)
-----------------------------------------------------------------------
define analysis parameters for gravity phase

.. GENERATED FROM PYTHON SOURCE LINES 44-52

.. code-block:: Python

    ops.constraints("Transformation")
    ops.test("NormDispIncr", 1e-05, 50, 0)
    ops.algorithm("Newton")
    ops.numberer("RCM")
    ops.system("BandGeneral")
    ops.integrator("LoadControl", 1)
    ops.analysis("Static")








.. GENERATED FROM PYTHON SOURCE LINES 53-55

Perform an initial state analysis, where elements with tags 1001--1042 are
[BeamContact2D](https://opensees.berkeley.edu/wiki/index.php?title=BeamContact2D).

.. GENERATED FROM PYTHON SOURCE LINES 55-68

.. code-block:: Python


    # turn on initial state analysis feature
    ops.InitialStateAnalysis("on")
    # ensure soil material intially considers linear elastic behavior
    ops.updateMaterialStage("-material", 1, "-stage", 0)
    # set contact elements to be frictionless for gravity analysis
    ops.setParameter("-val", 0, "-eleRange", 1001, 1042, "friction")
    # analysis 4 steps, and fetch response
    for _ in range(4):
        ops.analyze(1)
        ODB.fetch_response_step()






.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    InitialStateAnalysis ON




.. GENERATED FROM PYTHON SOURCE LINES 69-70

Update soil material to consider elastoplastic behavior and analyze a few more steps:

.. GENERATED FROM PYTHON SOURCE LINES 70-82

.. code-block:: Python


    # update soil material to consider elastoplastic behavior and analyze a few more steps
    ops.updateMaterialStage("-material", 1, "-stage", 1)
    # analysis 4 steps, and fetch response
    for _ in range(4):
        ops.analyze(1)
        ODB.fetch_response_step()
    # designate end of initial state analysis (zeros displacements, keeps state variables)
    ops.InitialStateAnalysis("off")
    # turn on frictional behavior for beam contact elements
    ops.setParameter("-val", 1, "-eleRange", 1001, 1042, "friction")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    InitialStateAnalysis OFF
    Domain::addParameter - parameter with tag 0 already exists in model




.. GENERATED FROM PYTHON SOURCE LINES 83-85

REMOVE ELEMENTS TO SIMULATE EXCAVATION
---------------------------------------

.. GENERATED FROM PYTHON SOURCE LINES 85-96

.. code-block:: Python


    # define analysis parameters for excavation phase
    ops.wipeAnalysis()
    ops.constraints("Transformation")
    ops.test("NormDispIncr", 0.0001, 60)
    ops.algorithm("KrylovNewton")
    ops.numberer("RCM")
    ops.system("BandGeneral")
    ops.integrator("LoadControl", 1)
    ops.analysis("Static")








.. GENERATED FROM PYTHON SOURCE LINES 97-99

We first define a function to avoid repetitive removal of elements and nodes,
and then proceed with several steps of analysis.

.. GENERATED FROM PYTHON SOURCE LINES 99-112

.. code-block:: Python



    def remove_components(ele_tags, node_tags, nsteps=4):
        for etag in ele_tags:
            ops.remove("element", etag)
        for ntag in node_tags:
            ops.remove("node", ntag)
        # run analysis after object removal
        for _ in range(nsteps):
            ops.analyze(1)
            ODB.fetch_response_step()









.. GENERATED FROM PYTHON SOURCE LINES 113-114

Remove objects associated with lift 1:

.. GENERATED FROM PYTHON SOURCE LINES 114-126

.. code-block:: Python


    # soil elements
    ele_tags = [191, 192, 193, 194, 195, 196, 197, 198, 199, 200]
    ele_tags += [1042]  # contact element
    # soil nodes
    node_tags = [430, 437, 446, 455, 461, 468, 473, 476, 480, 482, 484]
    node_tags += [1042]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 1 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Lift 1 removed




.. GENERATED FROM PYTHON SOURCE LINES 127-128

We can then remove the remaining 9 lifts：

.. GENERATED FROM PYTHON SOURCE LINES 128-141

.. code-block:: Python


    # remove objects associated with lift 2
    # soil elements
    ele_tags = [181, 182, 183, 184, 185, 186, 187, 188, 189, 190]
    ele_tags += [1040]  # contact element
    # soil nodes
    node_tags = [412, 424, 433, 444, 453, 460, 466, 471, 475, 479, 483]
    node_tags += [1040]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 2 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Lift 2 removed




.. GENERATED FROM PYTHON SOURCE LINES 142-143

remove objects associated with lift 3

.. GENERATED FROM PYTHON SOURCE LINES 143-155

.. code-block:: Python


    # soil elements
    ele_tags = [171, 172, 173, 174, 175, 176, 177, 178, 179, 180]
    ele_tags += [1038]  # contact element
    # soil nodes
    node_tags = [387, 405, 418, 429, 442, 450, 458, 464, 470, 477, 481]
    node_tags += [1038]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 3 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Lift 3 removed




.. GENERATED FROM PYTHON SOURCE LINES 156-157

remove objects associated with lift 4

.. GENERATED FROM PYTHON SOURCE LINES 157-169

.. code-block:: Python


    # soil elements
    ele_tags = [161, 162, 163, 164, 165, 166, 167, 168, 169, 170]
    ele_tags += [1036]  # contact element
    # soil nodes
    node_tags = [363, 380, 398, 414, 427, 439, 448, 457, 465, 472, 478]
    node_tags += [1036]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 4 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Lift 4 removed




.. GENERATED FROM PYTHON SOURCE LINES 170-171

remove objects associated with lift 5

.. GENERATED FROM PYTHON SOURCE LINES 171-183

.. code-block:: Python


    # soil elements
    ele_tags = [151, 152, 153, 154, 155, 156, 157, 158, 159, 160]
    ele_tags += [1034]  # contact element
    # soil nodes
    node_tags = [336, 353, 378, 395, 411, 425, 440, 449, 459, 467, 474]
    node_tags += [1034]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 5 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Lift 5 removed




.. GENERATED FROM PYTHON SOURCE LINES 184-185

remove objects associated with lift 6

.. GENERATED FROM PYTHON SOURCE LINES 185-197

.. code-block:: Python


    # soil elements
    ele_tags = [141, 142, 143, 144, 145, 146, 147, 148, 149, 150]
    ele_tags += [1032]  # contact element
    # soil nodes
    node_tags = [308, 326, 347, 369, 392, 408, 426, 441, 452, 462, 469]
    node_tags += [1032]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 6 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Lift 6 removed




.. GENERATED FROM PYTHON SOURCE LINES 198-199

remove objects associated with lift 7

.. GENERATED FROM PYTHON SOURCE LINES 199-211

.. code-block:: Python


    # soil elements
    ele_tags = [131, 132, 133, 134, 135, 136, 137, 138, 139, 140]
    ele_tags += [1030]  # contact element
    # soil nodes
    node_tags = [281, 304, 322, 345, 370, 394, 415, 428, 443, 454, 463]
    node_tags += [1030]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 7 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Lift 7 removed




.. GENERATED FROM PYTHON SOURCE LINES 212-213

remove objects associated with lift 8

.. GENERATED FROM PYTHON SOURCE LINES 213-225

.. code-block:: Python


    # soil elements
    ele_tags = [121, 122, 123, 124, 125, 126, 127, 128, 129, 130]
    ele_tags += [1028]  # contact element
    # soil nodes
    node_tags = [260, 278, 302, 325, 346, 374, 399, 419, 434, 447, 456]
    node_tags += [1028]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 8 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Lift 8 removed




.. GENERATED FROM PYTHON SOURCE LINES 226-227

remove objects associated with lift 9

.. GENERATED FROM PYTHON SOURCE LINES 227-239

.. code-block:: Python


    # soil elements
    ele_tags = [111, 112, 113, 114, 115, 116, 117, 118, 119, 120]
    ele_tags += [1026]  # contact element
    # soil nodes
    node_tags = [241, 253, 277, 306, 327, 350, 379, 406, 422, 438, 451]
    node_tags += [1026]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 9 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Lift 9 removed




.. GENERATED FROM PYTHON SOURCE LINES 240-241

remove objects associated with lift 10

.. GENERATED FROM PYTHON SOURCE LINES 241-253

.. code-block:: Python


    # soil elements
    ele_tags = [101, 102, 103, 104, 105, 106, 107, 108, 109, 110]
    ele_tags += [1024]  # contact element
    # soil nodes
    node_tags = [218, 239, 259, 282, 307, 335, 364, 389, 413, 431, 445]
    node_tags += [1024]  # lagrange multiplier node

    remove_components(ele_tags, node_tags, nsteps=4)

    print("Lift 10 removed")





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Lift 10 removed




.. GENERATED FROM PYTHON SOURCE LINES 254-256

We can save all previous responses to a file:
zlib compression is used to reduce file size.

.. GENERATED FROM PYTHON SOURCE LINES 256-258

.. code-block:: Python

    ODB.save_response(zlib=True)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  All responses data with _odb_tag = 1 saved in G:\opstool\docs\.opstool.output/RespStepData-1.nc!




.. GENERATED FROM PYTHON SOURCE LINES 259-261

Post-processing
---------------

.. GENERATED FROM PYTHON SOURCE LINES 261-266

.. code-block:: Python

    import matplotlib.pyplot as plt

    import opstool as opst
    import opstool.vis.pyvista as opsvis








.. GENERATED FROM PYTHON SOURCE LINES 267-268

Since the result data has already been saved, we can read it at any time for post-processing:

.. GENERATED FROM PYTHON SOURCE LINES 268-277

.. code-block:: Python

    opsvis.set_plot_props(point_size=0, line_width=5, cmap="turbo", notebook=True)
    opsvis.set_plot_props(
        scalar_bar_kargs={
            "label_font_size": 12,
            "title_font_size": 13,
            "position_x": 0.85,  # 0--1
        }
    )








.. GENERATED FROM PYTHON SOURCE LINES 278-280

Nodal responses
+++++++++++++++++

.. GENERATED FROM PYTHON SOURCE LINES 280-290

.. code-block:: Python


    opsvis.plot_nodal_responses(
        odb_tag=1,
        slides=True,
        defo_scale=20,
        resp_type="disp",
        resp_dof=["UX", "UY"],
        unit_symbol="m",
    ).show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_002.png
        :alt: ex excavation
        :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_002.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\auto_examples\examples\postprocessing\images\sphx_glr_ex-excavation_002.vtksz



.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading response data from G:\opstool\docs\.opstool.output/RespStepData-1.nc ...
    Widget(value='<iframe src="http://localhost:49731/index.html?ui=P_0x1c013aa30e0_0&reconnect=auto" class="pyvista" style="width: 99%; height: 600px; border: 1px solid rgb(221,221,221);"></iframe>')




.. GENERATED FROM PYTHON SOURCE LINES 292-293

We can create animations:

.. GENERATED FROM PYTHON SOURCE LINES 293-306

.. code-block:: Python


    fig = opsvis.plot_nodal_responses_animation(
        odb_tag=1,
        framerate=20,
        defo_scale=25,
        savefig="images/NodalRespAnimation-excavation.gif",
        resp_type="disp",
        resp_dof=["UX", "UY"],
        unit_symbol="m",
    )
    fig.close()






.. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_003.gif
   :alt: ex excavation
   :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_003.gif
   :class: sphx-glr-single-img




.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading response data from G:\opstool\docs\.opstool.output/RespStepData-1.nc ...
    Animation has been saved to images/NodalRespAnimation-excavation.gif!




.. GENERATED FROM PYTHON SOURCE LINES 307-309

Frame elements responses
+++++++++++++++++++++++++++

.. GENERATED FROM PYTHON SOURCE LINES 309-324

.. code-block:: Python

    plotter = opsvis.plot_frame_responses(
        odb_tag=1,
        resp_type="sectionForces",
        resp_dof="MZ",
        unit_symbol="kN·m",
        show_values="eleMaxMin",
        scale=3,
        slides=True,
        style="surface",
        show_model=False,  # plot all model
        opacity=1.0,
        show_bc=False,
    )
    plotter.show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_004.png
        :alt: ex excavation
        :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_004.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\auto_examples\examples\postprocessing\images\sphx_glr_ex-excavation_004.vtksz



.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading response data from G:\opstool\docs\.opstool.output/RespStepData-1.nc ...
    Widget(value='<iframe src="http://localhost:49731/index.html?ui=P_0x1c003f943e0_0&reconnect=auto" class="pyvista" style="width: 99%; height: 600px; border: 1px solid rgb(221,221,221);"></iframe>')




.. GENERATED FROM PYTHON SOURCE LINES 325-341

.. code-block:: Python

    opsvis.plot_frame_responses_animation(
        odb_tag=1,
        resp_type="sectionForces",
        resp_dof="MZ",
        unit_symbol="kN·m",
        show_values=False,
        framerate=20,
        scale=3,
        style="surface",
        opacity=1.0,
        show_model=True,  # plot all model
        show_bc=False,
        savefig="images/FrameForcesMZ-excavation.gif",
    ).close()






.. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_005.gif
   :alt: ex excavation
   :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_005.gif
   :class: sphx-glr-single-img




.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading response data from G:\opstool\docs\.opstool.output/RespStepData-1.nc ...
    Animation has been saved as images/FrameForcesMZ-excavation.gif!




.. GENERATED FROM PYTHON SOURCE LINES 342-344

Plane elements response
+++++++++++++++++++++++++++

.. GENERATED FROM PYTHON SOURCE LINES 344-349

.. code-block:: Python

    pl = opsvis.plot_unstruct_responses(
        odb_tag=1, slides=True, ele_type="Plane", resp_type="StressesAtNodes", resp_dof="sigma22", unit_symbol="kPa"
    )
    pl.show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_006.png
        :alt: ex excavation
        :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_006.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\auto_examples\examples\postprocessing\images\sphx_glr_ex-excavation_006.vtksz



.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading response data from G:\opstool\docs\.opstool.output/RespStepData-1.nc ...
    Widget(value='<iframe src="http://localhost:49731/index.html?ui=P_0x1c013aa6930_0&reconnect=auto" class="pyvista" style="width: 99%; height: 600px; border: 1px solid rgb(221,221,221);"></iframe>')




.. GENERATED FROM PYTHON SOURCE LINES 350-362

.. code-block:: Python

    opsvis.set_plot_props(show_mesh_edges=False)
    opsvis.plot_unstruct_responses(
        odb_tag=1,
        slides=True,
        ele_type="Plane",
        resp_type="StressesAtNodes",
        resp_dof="sigma12",
        show_defo=True,
        defo_scale=30,
        unit_symbol="MPa",
    ).show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_007.png
        :alt: ex excavation
        :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_007.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\auto_examples\examples\postprocessing\images\sphx_glr_ex-excavation_007.vtksz



.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading response data from G:\opstool\docs\.opstool.output/RespStepData-1.nc ...
    Widget(value='<iframe src="http://localhost:49731/index.html?ui=P_0x1c004633470_0&reconnect=auto" class="pyvista" style="width: 99%; height: 600px; border: 1px solid rgb(221,221,221);"></iframe>')




.. GENERATED FROM PYTHON SOURCE LINES 363-367

.. code-block:: Python

    opsvis.plot_unstruct_responses(
        odb_tag=1, slides=True, ele_type="Plane", resp_type="StressesAtNodes", resp_dof="sigma_vm"
    ).show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_008.png
        :alt: ex excavation
        :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_008.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\auto_examples\examples\postprocessing\images\sphx_glr_ex-excavation_008.vtksz



.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading response data from G:\opstool\docs\.opstool.output/RespStepData-1.nc ...
    Widget(value='<iframe src="http://localhost:49731/index.html?ui=P_0x1c013aa1670_0&reconnect=auto" class="pyvista" style="width: 99%; height: 600px; border: 1px solid rgb(221,221,221);"></iframe>')




.. GENERATED FROM PYTHON SOURCE LINES 368-371

Read data from ODB
+++++++++++++++++++++++++++
Reading the response of the contact element

.. GENERATED FROM PYTHON SOURCE LINES 371-374

.. code-block:: Python

    data = opst.post.get_element_responses(odb_tag=1, ele_type="Contact")
    data





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading Contact response data from G:\opstool\docs\.opstool.output/RespStepData-1.nc ...


.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">
    <div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
    <defs>
    <symbol id="icon-database" viewBox="0 0 32 32">
    <path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
    <path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
    <path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
    </symbol>
    <symbol id="icon-file-text2" viewBox="0 0 32 32">
    <path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
    <path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    <path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    <path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
    </symbol>
    </defs>
    </svg>
    <style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
     *
     */

    :root {
      --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
      --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
      --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
      --xr-border-color: var(--jp-border-color2, #e0e0e0);
      --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
      --xr-background-color: var(--jp-layout-color0, white);
      --xr-background-color-row-even: var(--jp-layout-color1, white);
      --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
    }

    html[theme=dark],
    html[data-theme=dark],
    body[data-theme=dark],
    body.vscode-dark {
      --xr-font-color0: rgba(255, 255, 255, 1);
      --xr-font-color2: rgba(255, 255, 255, 0.54);
      --xr-font-color3: rgba(255, 255, 255, 0.38);
      --xr-border-color: #1F1F1F;
      --xr-disabled-color: #515151;
      --xr-background-color: #111111;
      --xr-background-color-row-even: #111111;
      --xr-background-color-row-odd: #313131;
    }

    .xr-wrap {
      display: block !important;
      min-width: 300px;
      max-width: 700px;
    }

    .xr-text-repr-fallback {
      /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
      display: none;
    }

    .xr-header {
      padding-top: 6px;
      padding-bottom: 6px;
      margin-bottom: 4px;
      border-bottom: solid 1px var(--xr-border-color);
    }

    .xr-header > div,
    .xr-header > ul {
      display: inline;
      margin-top: 0;
      margin-bottom: 0;
    }

    .xr-obj-type,
    .xr-array-name {
      margin-left: 2px;
      margin-right: 10px;
    }

    .xr-obj-type {
      color: var(--xr-font-color2);
    }

    .xr-sections {
      padding-left: 0 !important;
      display: grid;
      grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
    }

    .xr-section-item {
      display: contents;
    }

    .xr-section-item input {
      display: inline-block;
      opacity: 0;
    }

    .xr-section-item input + label {
      color: var(--xr-disabled-color);
    }

    .xr-section-item input:enabled + label {
      cursor: pointer;
      color: var(--xr-font-color2);
    }

    .xr-section-item input:focus + label {
      border: 2px solid var(--xr-font-color0);
    }

    .xr-section-item input:enabled + label:hover {
      color: var(--xr-font-color0);
    }

    .xr-section-summary {
      grid-column: 1;
      color: var(--xr-font-color2);
      font-weight: 500;
    }

    .xr-section-summary > span {
      display: inline-block;
      padding-left: 0.5em;
    }

    .xr-section-summary-in:disabled + label {
      color: var(--xr-font-color2);
    }

    .xr-section-summary-in + label:before {
      display: inline-block;
      content: '►';
      font-size: 11px;
      width: 15px;
      text-align: center;
    }

    .xr-section-summary-in:disabled + label:before {
      color: var(--xr-disabled-color);
    }

    .xr-section-summary-in:checked + label:before {
      content: '▼';
    }

    .xr-section-summary-in:checked + label > span {
      display: none;
    }

    .xr-section-summary,
    .xr-section-inline-details {
      padding-top: 4px;
      padding-bottom: 4px;
    }

    .xr-section-inline-details {
      grid-column: 2 / -1;
    }

    .xr-section-details {
      display: none;
      grid-column: 1 / -1;
      margin-bottom: 5px;
    }

    .xr-section-summary-in:checked ~ .xr-section-details {
      display: contents;
    }

    .xr-array-wrap {
      grid-column: 1 / -1;
      display: grid;
      grid-template-columns: 20px auto;
    }

    .xr-array-wrap > label {
      grid-column: 1;
      vertical-align: top;
    }

    .xr-preview {
      color: var(--xr-font-color3);
    }

    .xr-array-preview,
    .xr-array-data {
      padding: 0 5px !important;
      grid-column: 2;
    }

    .xr-array-data,
    .xr-array-in:checked ~ .xr-array-preview {
      display: none;
    }

    .xr-array-in:checked ~ .xr-array-data,
    .xr-array-preview {
      display: inline-block;
    }

    .xr-dim-list {
      display: inline-block !important;
      list-style: none;
      padding: 0 !important;
      margin: 0;
    }

    .xr-dim-list li {
      display: inline-block;
      padding: 0;
      margin: 0;
    }

    .xr-dim-list:before {
      content: '(';
    }

    .xr-dim-list:after {
      content: ')';
    }

    .xr-dim-list li:not(:last-child):after {
      content: ',';
      padding-right: 5px;
    }

    .xr-has-index {
      font-weight: bold;
    }

    .xr-var-list,
    .xr-var-item {
      display: contents;
    }

    .xr-var-item > div,
    .xr-var-item label,
    .xr-var-item > .xr-var-name span {
      background-color: var(--xr-background-color-row-even);
      margin-bottom: 0;
    }

    .xr-var-item > .xr-var-name:hover span {
      padding-right: 5px;
    }

    .xr-var-list > li:nth-child(odd) > div,
    .xr-var-list > li:nth-child(odd) > label,
    .xr-var-list > li:nth-child(odd) > .xr-var-name span {
      background-color: var(--xr-background-color-row-odd);
    }

    .xr-var-name {
      grid-column: 1;
    }

    .xr-var-dims {
      grid-column: 2;
    }

    .xr-var-dtype {
      grid-column: 3;
      text-align: right;
      color: var(--xr-font-color2);
    }

    .xr-var-preview {
      grid-column: 4;
    }

    .xr-index-preview {
      grid-column: 2 / 5;
      color: var(--xr-font-color2);
    }

    .xr-var-name,
    .xr-var-dims,
    .xr-var-dtype,
    .xr-preview,
    .xr-attrs dt {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      padding-right: 10px;
    }

    .xr-var-name:hover,
    .xr-var-dims:hover,
    .xr-var-dtype:hover,
    .xr-attrs dt:hover {
      overflow: visible;
      width: auto;
      z-index: 1;
    }

    .xr-var-attrs,
    .xr-var-data,
    .xr-index-data {
      display: none;
      background-color: var(--xr-background-color) !important;
      padding-bottom: 5px !important;
    }

    .xr-var-attrs-in:checked ~ .xr-var-attrs,
    .xr-var-data-in:checked ~ .xr-var-data,
    .xr-index-data-in:checked ~ .xr-index-data {
      display: block;
    }

    .xr-var-data > table {
      float: right;
    }

    .xr-var-name span,
    .xr-var-data,
    .xr-index-name div,
    .xr-index-data,
    .xr-attrs {
      padding-left: 25px !important;
    }

    .xr-attrs,
    .xr-var-attrs,
    .xr-var-data,
    .xr-index-data {
      grid-column: 1 / -1;
    }

    dl.xr-attrs {
      padding: 0;
      margin: 0;
      display: grid;
      grid-template-columns: 125px auto;
    }

    .xr-attrs dt,
    .xr-attrs dd {
      padding: 0;
      margin: 0;
      float: left;
      padding-right: 10px;
      width: auto;
    }

    .xr-attrs dt {
      font-weight: normal;
      grid-column: 1;
    }

    .xr-attrs dt:hover span {
      display: inline-block;
      background: var(--xr-background-color);
      padding-right: 10px;
    }

    .xr-attrs dd {
      grid-column: 2;
      white-space: pre-wrap;
      word-break: break-all;
    }

    .xr-icon-database,
    .xr-icon-file-text2,
    .xr-no-icon {
      display: inline-block;
      vertical-align: middle;
      width: 1em;
      height: 1.5em !important;
      stroke-width: 0;
      stroke: currentColor;
      fill: currentColor;
    }
    </style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 91kB
    Dimensions:       (time: 49, eleTags: 42, globalDOFs: 3, localDOFs: 3,
                       slipDOFs: 2)
    Coordinates:
      * eleTags       (eleTags) int32 168B 1001 1002 1003 1004 ... 1040 1041 1042
      * globalDOFs    (globalDOFs) &lt;U2 24B &#x27;Px&#x27; &#x27;Py&#x27; &#x27;Pz&#x27;
      * localDOFs     (localDOFs) &lt;U2 24B &#x27;N&#x27; &#x27;Tx&#x27; &#x27;Ty&#x27;
      * slipDOFs      (slipDOFs) &lt;U2 16B &#x27;Tx&#x27; &#x27;Ty&#x27;
      * time          (time) float32 196B 0.0 1.0 2.0 3.0 ... 37.0 38.0 39.0 40.0
    Data variables:
        globalForces  (time, eleTags, globalDOFs) float32 25kB -0.0 -0.0 ... nan nan
        localForces   (time, eleTags, localDOFs) float32 25kB 0.0 0.0 ... nan nan
        localDisp     (time, eleTags, localDOFs) float32 25kB 0.0 0.0 ... nan nan
        slips         (time, eleTags, slipDOFs) float32 16kB 0.0 0.0 0.0 ... nan nan
    Attributes:
        Px:       Global force in the x-direction on the constrained node
        Py:       Global force in the y-direction on the constrained node
        Pz:       Global force in the z-direction on the constrained node
        N:        Normal force or deformation
        Tx:       Tangential force or deformation in the x-direction
        Ty:       Tangential force or deformation in the y-direction</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-8442c6bc-356e-4796-80f4-1da053a372e6' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-8442c6bc-356e-4796-80f4-1da053a372e6' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 49</li><li><span class='xr-has-index'>eleTags</span>: 42</li><li><span class='xr-has-index'>globalDOFs</span>: 3</li><li><span class='xr-has-index'>localDOFs</span>: 3</li><li><span class='xr-has-index'>slipDOFs</span>: 2</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-d68fed78-1db2-4b3d-af88-9e090f6ee65d' class='xr-section-summary-in' type='checkbox'  checked><label for='section-d68fed78-1db2-4b3d-af88-9e090f6ee65d' class='xr-section-summary' >Coordinates: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>eleTags</span></div><div class='xr-var-dims'>(eleTags)</div><div class='xr-var-dtype'>int32</div><div class='xr-var-preview xr-preview'>1001 1002 1003 ... 1040 1041 1042</div><input id='attrs-9d8698ad-da53-4e6b-92c6-363dedc26bfe' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-9d8698ad-da53-4e6b-92c6-363dedc26bfe' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b8ca9899-fad6-4bd0-bc36-464da0f32e82' class='xr-var-data-in' type='checkbox'><label for='data-b8ca9899-fad6-4bd0-bc36-464da0f32e82' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([1001, 1002, 1003, 1004, 1005, 1006, 1007, 1008, 1009, 1010, 1011, 1012,
           1013, 1014, 1015, 1016, 1017, 1018, 1019, 1020, 1021, 1022, 1023, 1024,
           1025, 1026, 1027, 1028, 1029, 1030, 1031, 1032, 1033, 1034, 1035, 1036,
           1037, 1038, 1039, 1040, 1041, 1042])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>globalDOFs</span></div><div class='xr-var-dims'>(globalDOFs)</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;Px&#x27; &#x27;Py&#x27; &#x27;Pz&#x27;</div><input id='attrs-44a32adc-9e75-4b0d-99fe-9aef1d35e602' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-44a32adc-9e75-4b0d-99fe-9aef1d35e602' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-10fda3bc-8e7a-49c4-a7c1-49bb6bed7a69' class='xr-var-data-in' type='checkbox'><label for='data-10fda3bc-8e7a-49c4-a7c1-49bb6bed7a69' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;Px&#x27;, &#x27;Py&#x27;, &#x27;Pz&#x27;], dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>localDOFs</span></div><div class='xr-var-dims'>(localDOFs)</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;N&#x27; &#x27;Tx&#x27; &#x27;Ty&#x27;</div><input id='attrs-622a4afc-2dcf-4413-ad63-9958c283d5b3' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-622a4afc-2dcf-4413-ad63-9958c283d5b3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-99dd8577-12ab-43a6-a647-c8100550de40' class='xr-var-data-in' type='checkbox'><label for='data-99dd8577-12ab-43a6-a647-c8100550de40' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;N&#x27;, &#x27;Tx&#x27;, &#x27;Ty&#x27;], dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>slipDOFs</span></div><div class='xr-var-dims'>(slipDOFs)</div><div class='xr-var-dtype'>&lt;U2</div><div class='xr-var-preview xr-preview'>&#x27;Tx&#x27; &#x27;Ty&#x27;</div><input id='attrs-9afec703-0742-47ee-9eb5-ce39fbf4cffa' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-9afec703-0742-47ee-9eb5-ce39fbf4cffa' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4a6cb2fa-af7b-4c02-8366-118bc3a4cfa6' class='xr-var-data-in' type='checkbox'><label for='data-4a6cb2fa-af7b-4c02-8366-118bc3a4cfa6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;Tx&#x27;, &#x27;Ty&#x27;], dtype=&#x27;&lt;U2&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.0 1.0 2.0 3.0 ... 38.0 39.0 40.0</div><input id='attrs-495d2d8c-def7-496c-99d8-9fa5bb52f043' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-495d2d8c-def7-496c-99d8-9fa5bb52f043' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-541df618-a815-499f-a37e-4dc00b527489' class='xr-var-data-in' type='checkbox'><label for='data-541df618-a815-499f-a37e-4dc00b527489' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  1.,  2.,  3.,  4.,  5.,
            6.,  7.,  8.,  9., 10., 11., 12., 13., 14., 15., 16., 17., 18., 19.,
           20., 21., 22., 23., 24., 25., 26., 27., 28., 29., 30., 31., 32., 33.,
           34., 35., 36., 37., 38., 39., 40.], dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-6981a6e0-6e81-4344-adba-afb3094c2afd' class='xr-section-summary-in' type='checkbox'  checked><label for='section-6981a6e0-6e81-4344-adba-afb3094c2afd' class='xr-section-summary' >Data variables: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>globalForces</span></div><div class='xr-var-dims'>(time, eleTags, globalDOFs)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-0.0 -0.0 0.0 -0.0 ... nan nan nan</div><input id='attrs-ef59c117-3225-405b-ab39-384665562d94' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-ef59c117-3225-405b-ab39-384665562d94' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-dc446bc0-c760-48a3-a1cd-9c4553cf5be3' class='xr-var-data-in' type='checkbox'><label for='data-dc446bc0-c760-48a3-a1cd-9c4553cf5be3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[-0.0000000e+00, -0.0000000e+00,  0.0000000e+00],
            [-0.0000000e+00, -0.0000000e+00,  0.0000000e+00],
            [-0.0000000e+00, -0.0000000e+00,  0.0000000e+00],
            ...,
            [-0.0000000e+00, -0.0000000e+00,  0.0000000e+00],
            [-0.0000000e+00, -0.0000000e+00,  0.0000000e+00],
            [-0.0000000e+00, -0.0000000e+00,  0.0000000e+00]],

           [[-2.2277697e+01,  1.2898215e-16,  0.0000000e+00],
            [ 2.2277697e+01, -1.2898215e-16,  0.0000000e+00],
            [-4.3412949e+01, -0.0000000e+00,  0.0000000e+00],
            ...,
            [ 2.2848918e+00, -1.6235133e-14,  0.0000000e+00],
            [-5.7122296e-01, -4.0587833e-15,  0.0000000e+00],
            [ 5.7122296e-01, -4.0587833e-15,  0.0000000e+00]],

           [[-2.2277697e+01,  3.4214551e-16,  0.0000000e+00],
            [ 2.2277697e+01, -3.4214551e-16,  0.0000000e+00],
            [-4.3412949e+01,  2.1286442e-16,  0.0000000e+00],
            ...,
    ...
            ...,
            [           nan,            nan,            nan],
            [-4.1343015e-02,  9.7618526e-04,  0.0000000e+00],
            [           nan,            nan,            nan]],

           [[-2.6858183e+01,  1.3562502e-01,  0.0000000e+00],
            [ 8.8400278e+00, -1.0248453e-01,  0.0000000e+00],
            [-3.9127411e+01,  3.6174440e-01,  0.0000000e+00],
            ...,
            [           nan,            nan,            nan],
            [-4.1335627e-02,  9.7796472e-04,  0.0000000e+00],
            [           nan,            nan,            nan]],

           [[-2.6858181e+01,  1.3562506e-01,  0.0000000e+00],
            [ 8.8400249e+00, -1.0248456e-01,  0.0000000e+00],
            [-3.9127403e+01,  3.6174452e-01,  0.0000000e+00],
            ...,
            [           nan,            nan,            nan],
            [-4.1335266e-02,  9.7783026e-04,  0.0000000e+00],
            [           nan,            nan,            nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>localForces</span></div><div class='xr-var-dims'>(time, eleTags, localDOFs)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.0 0.0 0.0 0.0 ... 0.0 nan nan nan</div><input id='attrs-66f4b3b3-a160-4bb6-a4a6-0eed90833986' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-66f4b3b3-a160-4bb6-a4a6-0eed90833986' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-60db7bec-f845-4e40-8b47-ca7d67b78060' class='xr-var-data-in' type='checkbox'><label for='data-60db7bec-f845-4e40-8b47-ca7d67b78060' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[ 0.0000000e+00,  0.0000000e+00,  0.0000000e+00],
            [ 0.0000000e+00,  0.0000000e+00,  0.0000000e+00],
            [ 0.0000000e+00,  0.0000000e+00,  0.0000000e+00],
            ...,
            [ 0.0000000e+00,  0.0000000e+00,  0.0000000e+00],
            [ 0.0000000e+00,  0.0000000e+00,  0.0000000e+00],
            [ 0.0000000e+00,  0.0000000e+00,  0.0000000e+00]],

           [[ 2.2277697e+01, -2.5796431e-16,  0.0000000e+00],
            [ 2.2277697e+01,  2.5796431e-16,  0.0000000e+00],
            [ 4.3412949e+01,  0.0000000e+00,  0.0000000e+00],
            ...,
            [ 2.2848918e+00,  0.0000000e+00,  0.0000000e+00],
            [ 5.7122296e-01,  0.0000000e+00,  0.0000000e+00],
            [ 5.7122296e-01,  0.0000000e+00,  0.0000000e+00]],

           [[ 2.2277697e+01, -6.8429102e-16,  0.0000000e+00],
            [ 2.2277697e+01,  6.8429102e-16,  0.0000000e+00],
            [ 4.3412949e+01, -4.2572884e-16,  0.0000000e+00],
            ...,
    ...
            ...,
            [           nan,            nan,            nan],
            [ 4.1345987e-02, -1.6815730e-03,  0.0000000e+00],
            [           nan,            nan,            nan]],

           [[ 2.6858387e+01, -1.7246141e-01,  0.0000000e+00],
            [ 8.8402014e+00,  1.7245381e-01,  0.0000000e+00],
            [ 3.9128014e+01, -5.7866025e-01,  0.0000000e+00],
            ...,
            [           nan,            nan,            nan],
            [ 4.1338608e-02, -1.6851805e-03,  0.0000000e+00],
            [           nan,            nan,            nan]],

           [[ 2.6858385e+01, -1.7246147e-01,  0.0000000e+00],
            [ 8.8401985e+00,  1.7245387e-01,  0.0000000e+00],
            [ 3.9128006e+01, -5.7866043e-01,  0.0000000e+00],
            ...,
            [           nan,            nan,            nan],
            [ 4.1338246e-02, -1.6849140e-03,  0.0000000e+00],
            [           nan,            nan,            nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>localDisp</span></div><div class='xr-var-dims'>(time, eleTags, localDOFs)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.0 0.0 0.0 0.0 ... 0.0 nan nan nan</div><input id='attrs-30bfb0ad-a00a-4cc5-b866-81375ce9d160' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-30bfb0ad-a00a-4cc5-b866-81375ce9d160' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-834c6ce2-180b-4d3a-a3f3-564691b73a76' class='xr-var-data-in' type='checkbox'><label for='data-834c6ce2-180b-4d3a-a3f3-564691b73a76' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            ...,
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.]],

           [[ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            ...,
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.]],

           [[ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            ...,
    ...
            ...,
            [nan, nan, nan],
            [ 0.,  0.,  0.],
            [nan, nan, nan]],

           [[ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            ...,
            [nan, nan, nan],
            [ 0.,  0.,  0.],
            [nan, nan, nan]],

           [[ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            [ 0.,  0.,  0.],
            ...,
            [nan, nan, nan],
            [ 0.,  0.,  0.],
            [nan, nan, nan]]], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>slips</span></div><div class='xr-var-dims'>(time, eleTags, slipDOFs)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.0 0.0 0.0 0.0 ... 0.0 0.0 nan nan</div><input id='attrs-a6948f8f-133d-43d6-bde9-7d8bbd8058ba' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-a6948f8f-133d-43d6-bde9-7d8bbd8058ba' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6999475c-03ad-4ad9-b2b4-f4c2add70034' class='xr-var-data-in' type='checkbox'><label for='data-6999475c-03ad-4ad9-b2b4-f4c2add70034' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[ 0.,  0.],
            [ 0.,  0.],
            [ 0.,  0.],
            ...,
            [ 0.,  0.],
            [ 0.,  0.],
            [ 0.,  0.]],

           [[ 0.,  0.],
            [ 0.,  0.],
            [ 0.,  0.],
            ...,
            [ 0.,  0.],
            [ 0.,  0.],
            [ 0.,  0.]],

           [[ 0.,  0.],
            [ 0.,  0.],
            [ 0.,  0.],
            ...,
    ...
            ...,
            [nan, nan],
            [ 0.,  0.],
            [nan, nan]],

           [[ 0.,  0.],
            [ 0.,  0.],
            [ 0.,  0.],
            ...,
            [nan, nan],
            [ 0.,  0.],
            [nan, nan]],

           [[ 0.,  0.],
            [ 0.,  0.],
            [ 0.,  0.],
            ...,
            [nan, nan],
            [ 0.,  0.],
            [nan, nan]]], dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-7b06131d-0a8c-43ef-9ede-fbc070da8d63' class='xr-section-summary-in' type='checkbox'  ><label for='section-7b06131d-0a8c-43ef-9ede-fbc070da8d63' class='xr-section-summary' >Indexes: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>eleTags</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-4d159aea-a9e9-4cfa-98ef-aaea4d2df8a5' class='xr-index-data-in' type='checkbox'/><label for='index-4d159aea-a9e9-4cfa-98ef-aaea4d2df8a5' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([1001, 1002, 1003, 1004, 1005, 1006, 1007, 1008, 1009, 1010, 1011, 1012,
           1013, 1014, 1015, 1016, 1017, 1018, 1019, 1020, 1021, 1022, 1023, 1024,
           1025, 1026, 1027, 1028, 1029, 1030, 1031, 1032, 1033, 1034, 1035, 1036,
           1037, 1038, 1039, 1040, 1041, 1042],
          dtype=&#x27;int32&#x27;, name=&#x27;eleTags&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>globalDOFs</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-02bddf6a-b9e7-4ebc-ada5-3965dcb58974' class='xr-index-data-in' type='checkbox'/><label for='index-02bddf6a-b9e7-4ebc-ada5-3965dcb58974' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;Px&#x27;, &#x27;Py&#x27;, &#x27;Pz&#x27;], dtype=&#x27;object&#x27;, name=&#x27;globalDOFs&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>localDOFs</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-16421d48-f141-4259-989e-8ffb4e34371f' class='xr-index-data-in' type='checkbox'/><label for='index-16421d48-f141-4259-989e-8ffb4e34371f' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;N&#x27;, &#x27;Tx&#x27;, &#x27;Ty&#x27;], dtype=&#x27;object&#x27;, name=&#x27;localDOFs&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>slipDOFs</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-886c0555-bc41-4fad-8d50-9266607d10da' class='xr-index-data-in' type='checkbox'/><label for='index-886c0555-bc41-4fad-8d50-9266607d10da' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;Tx&#x27;, &#x27;Ty&#x27;], dtype=&#x27;object&#x27;, name=&#x27;slipDOFs&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-2a5fe38e-904b-439b-8b6b-51725acd7232' class='xr-index-data-in' type='checkbox'/><label for='index-2a5fe38e-904b-439b-8b6b-51725acd7232' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ 0.0,  1.0,  2.0,  3.0,  4.0,  5.0,  6.0,  7.0,  8.0,  1.0,  2.0,  3.0,
            4.0,  5.0,  6.0,  7.0,  8.0,  9.0, 10.0, 11.0, 12.0, 13.0, 14.0, 15.0,
           16.0, 17.0, 18.0, 19.0, 20.0, 21.0, 22.0, 23.0, 24.0, 25.0, 26.0, 27.0,
           28.0, 29.0, 30.0, 31.0, 32.0, 33.0, 34.0, 35.0, 36.0, 37.0, 38.0, 39.0,
           40.0],
          dtype=&#x27;float32&#x27;, name=&#x27;time&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-496d4bb0-f628-4e9b-94a6-3d3b200ae1e5' class='xr-section-summary-in' type='checkbox'  checked><label for='section-496d4bb0-f628-4e9b-94a6-3d3b200ae1e5' class='xr-section-summary' >Attributes: <span>(6)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>Px :</span></dt><dd>Global force in the x-direction on the constrained node</dd><dt><span>Py :</span></dt><dd>Global force in the y-direction on the constrained node</dd><dt><span>Pz :</span></dt><dd>Global force in the z-direction on the constrained node</dd><dt><span>N :</span></dt><dd>Normal force or deformation</dd><dt><span>Tx :</span></dt><dd>Tangential force or deformation in the x-direction</dd><dt><span>Ty :</span></dt><dd>Tangential force or deformation in the y-direction</dd></dl></div></li></ul></div></div>
    </div>
    <br />
    <br />

.. GENERATED FROM PYTHON SOURCE LINES 375-378

.. code-block:: Python

    data["localForces"].sel(eleTags=1001).plot.line(x="time")
    plt.show()




.. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_009.png
   :alt: eleTags = 1001
   :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_009.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 379-382

Let's examine the response of contact element #1034.
Since it is removed during the fifth lift, its response is truncated at time=16,
and subsequent data will be filled with ``numpy.nan``.

.. GENERATED FROM PYTHON SOURCE LINES 382-385

.. code-block:: Python

    data["localForces"].sel(eleTags=1034).plot.line(x="time")
    plt.show()




.. image-sg:: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_010.png
   :alt: eleTags = 1034
   :srcset: /auto_examples/examples/postprocessing/images/sphx_glr_ex-excavation_010.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 386-388

.. code-block:: Python

    data["localForces"].sel(eleTags=1034).data








.. GENERATED FROM PYTHON SOURCE LINES 389-390

Reading the response of the beam element

.. GENERATED FROM PYTHON SOURCE LINES 390-393

.. code-block:: Python

    data = opst.post.get_element_responses(odb_tag=1, ele_type="Frame")
    print(data)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading Frame response data from G:\opstool\docs\.opstool.output/RespStepData-1.nc ...
    <xarray.Dataset> Size: 309kB
    Dimensions:              (time: 49, eleTags: 21, localDofs: 12, basicDofs: 6,
                              secPoints: 3, secDofs: 6, locs: 3)
    Coordinates:
      * eleTags              (eleTags) int32 84B 401 402 403 404 ... 418 419 420 421
      * localDofs            (localDofs) <U3 144B 'FX1' 'FY1' 'FZ1' ... 'MY2' 'MZ2'
      * basicDofs            (basicDofs) <U3 72B 'N' 'MZ1' 'MZ2' 'MY1' 'MY2' 'T'
      * secPoints            (secPoints) int32 12B 1 2 3
      * secDofs              (secDofs) <U2 48B 'N' 'MZ' 'VY' 'MY' 'VZ' 'T'
      * locs                 (locs) <U5 60B 'alpha' 'X' 'Y'
      * time                 (time) float32 196B 0.0 1.0 2.0 3.0 ... 38.0 39.0 40.0
    Data variables:
        localForces          (time, eleTags, localDofs) float32 49kB -0.0 ... 0.0...
        basicForces          (time, eleTags, basicDofs) float32 25kB 0.0 ... 0.0
        basicDeformations    (time, eleTags, basicDofs) float32 25kB 0.0 ... 0.0
        plasticDeformation   (time, eleTags, basicDofs) float32 25kB 0.0 ... 0.0
        sectionForces        (time, eleTags, secPoints, secDofs) float32 74kB 0.0...
        sectionDeformations  (time, eleTags, secPoints, secDofs) float32 74kB 0.0...
        sectionLocs          (time, eleTags, secPoints, locs) float32 37kB 0.1127...
    Attributes:
        localDofs:  local coord system dofs at end 1 and end 2
        basicDofs:  basic coord system dofs at end 1 and end 2
        secPoints:  section points No.
        secDofs:    section forces and deformations Dofs. Note that the section D...
        Notes:      Note that the deformations are displacements and rotations in...




.. GENERATED FROM PYTHON SOURCE LINES 394-396

.. code-block:: Python

    data = opst.post.get_element_responses(odb_tag=1, ele_type="Plane")
    print(data)




.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading Plane response data from G:\opstool\docs\.opstool.output/RespStepData-1.nc ...
    <xarray.Dataset> Size: 7MB
    Dimensions:                (time: 49, eleTags: 400, GaussPoints: 4,
                                stressDOFs: 5, strainDOFs: 3, nodeTags: 462,
                                measures: 4)
    Coordinates:
      * eleTags                (eleTags) int32 2kB 1 2 3 4 5 ... 396 397 398 399 400
      * GaussPoints            (GaussPoints) int32 16B 1 2 3 4
      * stressDOFs             (stressDOFs) <U7 140B 'sigma11' 'sigma22' ... 'eta_r'
      * strainDOFs             (strainDOFs) <U5 60B 'eps11' 'eps22' 'eps12'
      * nodeTags               (nodeTags) int32 2kB 1 2 3 4 5 ... 481 482 483 484
      * time                   (time) float32 196B 0.0 1.0 2.0 ... 38.0 39.0 40.0
      * measures               (measures) <U8 128B 'p1' 'p2' 'sigma_vm' 'tau_max'
    Data variables:
        Stresses               (time, eleTags, GaussPoints, stressDOFs) float32 2MB ...
        Strains                (time, eleTags, GaussPoints, strainDOFs) float32 941kB ...
        StressesAtNodes        (time, nodeTags, stressDOFs) float32 453kB 0.0 ......
        StrainsAtNodes         (time, nodeTags, strainDOFs) float32 272kB 0.0 ......
        StressAtNodesErr       (time, nodeTags, stressDOFs) float32 453kB 0.0 ......
        StrainsAtNodesErr      (time, nodeTags, strainDOFs) float32 272kB 0.0 ......
        StressMeasures         (time, eleTags, GaussPoints, measures) float32 1MB ...
        StrainMeasures         (time, eleTags, GaussPoints, measures) float32 1MB ...
        StressMeasuresAtNodes  (time, nodeTags, measures) float32 362kB 0.0 ... nan
        StrainMeasuresAtNodes  (time, nodeTags, measures) float32 362kB 0.0 ... nan
    Attributes:
        p1, p2:                     Principal stresses (strains).
        sigma11, sigma22, sigma12:  Normal stress and shear stress (strain) in th...
        eta_r:                      Ratio between the shear (deviatoric) stress a...
        sigma_vm:                   Von Mises stress.
        tau_max:                    Maximum shear stress (strains).





.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 33.119 seconds)


.. _sphx_glr_download_auto_examples_examples_postprocessing_ex-excavation.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: ex-excavation.ipynb <ex-excavation.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: ex-excavation.py <ex-excavation.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: ex-excavation.zip <ex-excavation.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
