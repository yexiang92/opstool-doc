
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "_sphinx_gallery_examples\vis-guide\pyvista\ex-04-frame-resp-pyvista.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download__sphinx_gallery_examples_vis-guide_pyvista_ex-04-frame-resp-pyvista.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr__sphinx_gallery_examples_vis-guide_pyvista_ex-04-frame-resp-pyvista.py:


Frame Element Responses
=======================

.. GENERATED FROM PYTHON SOURCE LINES 7-12

.. code-block:: Python

    import openseespy.opensees as ops

    import opstool as opst
    import opstool.vis.pyvista as opsvis








.. GENERATED FROM PYTHON SOURCE LINES 13-19

.. code-block:: Python

    opst.load_ops_examples("Frame3D2")
    ops.timeSeries("Linear", 1)
    ops.pattern("Plain", 1, 1)
    for etag in [5, 6, 7, 8, 15, 16, 17, 18, 19, 20, 21]:
        ops.eleLoad("-ele", etag, "-type", "-beamUniform", 0.0, -10)  # wy=0.0, wz=-10.0








.. GENERATED FROM PYTHON SOURCE LINES 20-24

.. code-block:: Python

    opsvis.set_plot_props(point_size=0, line_width=3)
    fig = opsvis.plot_model(show_nodal_loads=True, show_ele_loads=True, show_local_axes=True, show_ele_numbering=True)
    fig.show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /_sphinx_gallery_examples/vis-guide/pyvista/images/sphx_glr_ex-04-frame-resp-pyvista_001.png
        :alt: ex 04 frame resp pyvista
        :srcset: /_sphinx_gallery_examples/vis-guide/pyvista/images/sphx_glr_ex-04-frame-resp-pyvista_001.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\_sphinx_gallery_examples\vis-guide\pyvista\images\sphx_glr_ex-04-frame-resp-pyvista_001.vtksz






.. GENERATED FROM PYTHON SOURCE LINES 25-33

.. code-block:: Python

    ops.constraints("Transformation")
    ops.numberer("RCM")
    ops.system("BandGeneral")
    ops.test("NormDispIncr", 1.0e-8, 6, 2)
    ops.algorithm("Linear")
    ops.integrator("LoadControl", 0.1)
    ops.analysis("Static")








.. GENERATED FROM PYTHON SOURCE LINES 34-40

.. code-block:: Python

    ODB = opst.post.CreateODB(odb_tag=1)
    for i in range(10):
        ops.analyze(1)
        ODB.fetch_response_step()
    ODB.save_response()





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL™ ::  All responses data with _odb_tag = 1 saved in G:\opstool\docs\.opstool.output\RespStepData-1.odb!




.. GENERATED FROM PYTHON SOURCE LINES 41-42

sphinx_gallery_thumbnail_number = 2

.. GENERATED FROM PYTHON SOURCE LINES 42-59

.. code-block:: Python

    opsvis.set_plot_colors(frame="black", cmap="jet")

    fig = opsvis.plot_frame_responses(
        odb_tag=1,
        slides=True,
        resp_type="sectionForces",
        resp_dof="My",
        unit_symbol="N·m",
        scale=1.0,
        style="surface",  # "wireframe", "surface"
        opacity=0.75,  # opacity for "surface" style
        show_values="eleMaxMin",
        show_bc=True,
        bc_scale=3.0,
    )
    fig.show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /_sphinx_gallery_examples/vis-guide/pyvista/images/sphx_glr_ex-04-frame-resp-pyvista_002.png
        :alt: ex 04 frame resp pyvista
        :srcset: /_sphinx_gallery_examples/vis-guide/pyvista/images/sphx_glr_ex-04-frame-resp-pyvista_002.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\_sphinx_gallery_examples\vis-guide\pyvista\images\sphx_glr_ex-04-frame-resp-pyvista_002.vtksz



.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL™ ::  Loading responses data from G:\opstool\docs\.opstool.output\RespStepData-1.odb ...




.. GENERATED FROM PYTHON SOURCE LINES 60-75

.. code-block:: Python

    fig = opsvis.plot_frame_responses(
        odb_tag=1,
        slides=True,
        resp_type="sectionForces",
        resp_dof="Mz",
        unit_symbol="N·m",
        scale=1.0,
        style="surface",  # "wireframe", "surface"
        opacity=0.75,  # opacity for "surface" style
        show_values="eleMaxMin",
        show_bc=True,
        bc_scale=3.0,
    )
    fig.show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /_sphinx_gallery_examples/vis-guide/pyvista/images/sphx_glr_ex-04-frame-resp-pyvista_003.png
        :alt: ex 04 frame resp pyvista
        :srcset: /_sphinx_gallery_examples/vis-guide/pyvista/images/sphx_glr_ex-04-frame-resp-pyvista_003.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\_sphinx_gallery_examples\vis-guide\pyvista\images\sphx_glr_ex-04-frame-resp-pyvista_003.vtksz



.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL™ ::  Loading responses data from G:\opstool\docs\.opstool.output\RespStepData-1.odb ...




.. GENERATED FROM PYTHON SOURCE LINES 76-94

.. code-block:: Python

    fig = opsvis.plot_frame_responses(
        odb_tag=1,
        slides=False,
        step="absMax",
        resp_type="sectionForces",
        resp_dof="My",
        unit_symbol="kN·m",
        unit_factor=1e-3,
        scale=1.5,
        style="wireframe",  # "wireframe", "surface"
        color="blue",  # single color for wireframe
        line_width=2,  # line width for wireframe
        show_values=False,
        show_bc=True,
        bc_scale=3.0,
    )
    fig.show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /_sphinx_gallery_examples/vis-guide/pyvista/images/sphx_glr_ex-04-frame-resp-pyvista_004.png
        :alt: ex 04 frame resp pyvista
        :srcset: /_sphinx_gallery_examples/vis-guide/pyvista/images/sphx_glr_ex-04-frame-resp-pyvista_004.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\_sphinx_gallery_examples\vis-guide\pyvista\images\sphx_glr_ex-04-frame-resp-pyvista_004.vtksz



.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL™ ::  Loading responses data from G:\opstool\docs\.opstool.output\RespStepData-1.odb ...




.. GENERATED FROM PYTHON SOURCE LINES 95-112

.. code-block:: Python

    fig = opsvis.plot_frame_responses_animation(
        odb_tag=1,
        resp_type="sectionForces",
        resp_dof="My",
        unit_symbol="N·m",
        scale=1.5,
        # style="wireframe",  # "wireframe", "surface"
        # line_width=2,  # line width for wireframe
        style="surface",  # "wireframe", "surface"
        opacity=0.75,  # opacity for "surface" style
        show_values="MaxMin",
        savefig="images/FrameRespAnimation.gif",
        framerate=2,
        show_bc=True,
        bc_scale=3.0,
    )
    fig.close()




.. image-sg:: /_sphinx_gallery_examples/vis-guide/pyvista/images/sphx_glr_ex-04-frame-resp-pyvista_005.gif
   :alt: ex 04 frame resp pyvista
   :srcset: /_sphinx_gallery_examples/vis-guide/pyvista/images/sphx_glr_ex-04-frame-resp-pyvista_005.gif
   :class: sphx-glr-single-img




.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL™ ::  Loading responses data from G:\opstool\docs\.opstool.output\RespStepData-1.odb ...
    Animation has been saved as images/FrameRespAnimation.gif!





.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 3.186 seconds)


.. _sphx_glr_download__sphinx_gallery_examples_vis-guide_pyvista_ex-04-frame-resp-pyvista.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: ex-04-frame-resp-pyvista.ipynb <ex-04-frame-resp-pyvista.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: ex-04-frame-resp-pyvista.py <ex-04-frame-resp-pyvista.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: ex-04-frame-resp-pyvista.zip <ex-04-frame-resp-pyvista.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
