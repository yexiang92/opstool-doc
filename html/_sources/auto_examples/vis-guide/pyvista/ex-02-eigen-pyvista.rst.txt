
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples\vis-guide\pyvista\ex-02-eigen-pyvista.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_vis-guide_pyvista_ex-02-eigen-pyvista.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_vis-guide_pyvista_ex-02-eigen-pyvista.py:


Eigen
=====

The eigenvalue (modal) visualization provides insights into the dynamic characteristics of the structure. It includes the following features:

- **Mode Shapes**: Visual representation of how the structure deforms under specific vibration modes.
- **Natural Frequencies or Periods**: Display of corresponding frequencies or periods for each mode, enabling detailed analysis of structural dynamics.
- **Animation**: Dynamic visualization of the mode shapes to better understand the structural response.

Using the visualization tools, you can:

1. Analyze the vibration patterns of the structure.
2. Identify critical modes that may impact structural performance.
3. Evaluate the effectiveness of design modifications in improving dynamic behavior.

.. GENERATED FROM PYTHON SOURCE LINES 19-24

.. code-block:: Python

    import opstool as opst
    import opstool.vis.pyvista as opsvis

    # Here, we use a built-in example from ``opstool``, which is an example of a suspension bridge model primarily composed of frame elements and shell elements.








.. GENERATED FROM PYTHON SOURCE LINES 25-29

.. code-block:: Python

    opst.load_ops_examples("SuspensionBridge")
    # or your model code here
    opst.vis.pyvista.plot_model().show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /auto_examples/vis-guide/pyvista/images/sphx_glr_ex-02-eigen-pyvista_001.png
        :alt: ex 02 eigen pyvista
        :srcset: /auto_examples/vis-guide/pyvista/images/sphx_glr_ex-02-eigen-pyvista_001.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\auto_examples\vis-guide\pyvista\images\sphx_glr_ex-02-eigen-pyvista_001.vtksz



.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Widget(value='<iframe src="http://localhost:61479/index.html?ui=P_0x1da8ae79100_0&reconnect=auto" class="pyvista" style="width: 99%; height: 600px; border: 1px solid rgb(221,221,221);"></iframe>')




.. GENERATED FROM PYTHON SOURCE LINES 30-39

Save the eigen analysis results
Although not mandatory, you can use the ``save_eigen_data`` function to save eigenvalue analysis data, which can help you better understand how `opstool` operates.

Parameters:

- **odb_tag**: Specifies the label for the output database.
- **mode_tag**: Specifies the number of modes to save. Modal data within the range ``[1, mode_tag]`` will be saved.

For detailed usage, please refer to the :func:`opstool.post.save_eigen_data`.

.. GENERATED FROM PYTHON SOURCE LINES 39-41

.. code-block:: Python

    opst.post.save_eigen_data(odb_tag=1, mode_tag=10)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Eigen data has been saved to G:\opstool\docs\.opstool.output/EigenData-1.zarr!




.. GENERATED FROM PYTHON SOURCE LINES 42-60

modal visualization
--------------------

The modal visualization feature allows you to explore the dynamic behavior of structures by visualizing their mode shapes.

Parameters:

- **odb_tag**: Helps identify which database to read the results from.
- **subplots**: When set to `True`, uses subplots to display multiple mode shapes in a single figure.
- **mode_tags**: Specifies the modes to visualize.
- For example, `mode_tags=4` visualizes modes `[1, 4]`.
- `mode_tags=[2, 5]` visualizes modes from 2 to 5.

.. Note::
   The highest mode number specified in ``mode_tags`` must not exceed the maximum mode number saved using the ``save_eigen_data`` function.
   This flexibility allows for detailed and customized visualization of the modal data, making it easier to analyze structural behavior.

In actual use, ``notebook=False`` should be used. This is just for the convenience of generating documents.

.. GENERATED FROM PYTHON SOURCE LINES 60-62

.. code-block:: Python

    opsvis.set_plot_props(point_size=0, line_width=3, cmap="coolwarm", notebook=True)








.. GENERATED FROM PYTHON SOURCE LINES 63-65

.. Note::
   If you are not working in Jupyter Notebook or JupyterLab, ensure that **`notebook=False`**.

.. GENERATED FROM PYTHON SOURCE LINES 67-70

Plot mode shape by subplots
~~~~~~~~~~~~~~~~~~~~~~~~~~~~
For detailed parameters and customization options, please refer to the :func:`opstool.vis.plotly.plot_eigen`.

.. GENERATED FROM PYTHON SOURCE LINES 70-77

.. code-block:: Python

    plotter = opsvis.plot_eigen(
        mode_tags=4,
        odb_tag=1,
        subplots=True,
    )
    plotter.show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /auto_examples/vis-guide/pyvista/images/sphx_glr_ex-02-eigen-pyvista_002.png
        :alt: ex 02 eigen pyvista
        :srcset: /auto_examples/vis-guide/pyvista/images/sphx_glr_ex-02-eigen-pyvista_002.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\auto_examples\vis-guide\pyvista\images\sphx_glr_ex-02-eigen-pyvista_002.vtksz



.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading eigen data from G:\opstool\docs\.opstool.output/EigenData-1.zarr ...
    Widget(value='<iframe src="http://localhost:61479/index.html?ui=P_0x1da8f9486b0_0&reconnect=auto" class="pyvista" style="width: 99%; height: 600px; border: 1px solid rgb(221,221,221);"></iframe>')




.. GENERATED FROM PYTHON SOURCE LINES 78-81

Plot mode shape by slides
~~~~~~~~~~~~~~~~~~~~~~~~~~
When ``subplots`` set to `False`, displays the mode shapes as a slideshow, transitioning between modes.

.. GENERATED FROM PYTHON SOURCE LINES 81-89

.. code-block:: Python


    plotter = opsvis.plot_eigen(
        mode_tags=3,
        odb_tag=1,
        subplots=False,
    )
    plotter.show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /auto_examples/vis-guide/pyvista/images/sphx_glr_ex-02-eigen-pyvista_003.png
        :alt: ex 02 eigen pyvista
        :srcset: /auto_examples/vis-guide/pyvista/images/sphx_glr_ex-02-eigen-pyvista_003.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\auto_examples\vis-guide\pyvista\images\sphx_glr_ex-02-eigen-pyvista_003.vtksz



.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading eigen data from G:\opstool\docs\.opstool.output/EigenData-1.zarr ...
    Widget(value='<iframe src="http://localhost:61479/index.html?ui=P_0x1da90708320_0&reconnect=auto" class="pyvista" style="width: 99%; height: 600px; border: 1px solid rgb(221,221,221);"></iframe>')




.. GENERATED FROM PYTHON SOURCE LINES 91-94

Plot mode shape by animation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
The following example demonstrates how to animate Mode 1:

.. GENERATED FROM PYTHON SOURCE LINES 94-98

.. code-block:: Python


    plotter = opsvis.plot_eigen_animation(mode_tag=1, odb_tag=1, savefig="images/EigenAnimation.gif")
    plotter.close()  # must be invoked to generate the gif
    # plotter.show()




.. image-sg:: /auto_examples/vis-guide/pyvista/images/sphx_glr_ex-02-eigen-pyvista_004.gif
   :alt: ex 02 eigen pyvista
   :srcset: /auto_examples/vis-guide/pyvista/images/sphx_glr_ex-02-eigen-pyvista_004.gif
   :class: sphx-glr-single-img




.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL ::  Loading eigen data from G:\opstool\docs\.opstool.output/EigenData-1.zarr ...
    Animation has been saved to images/EigenAnimation.gif!





.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 3.046 seconds)


.. _sphx_glr_download_auto_examples_vis-guide_pyvista_ex-02-eigen-pyvista.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: ex-02-eigen-pyvista.ipynb <ex-02-eigen-pyvista.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: ex-02-eigen-pyvista.py <ex-02-eigen-pyvista.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: ex-02-eigen-pyvista.zip <ex-02-eigen-pyvista.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
