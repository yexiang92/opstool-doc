
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "_sphinx_gallery_examples\vis-guide\pyvista\ex-01-model-pyvista.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download__sphinx_gallery_examples_vis-guide_pyvista_ex-01-model-pyvista.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr__sphinx_gallery_examples_vis-guide_pyvista_ex-01-model-pyvista.py:


Model Geometry
==================

At any point during model creation, you can run the :func:`opstool.vis.pyvista.plot_model` function to visualize the current model's geometric details.
This function operates based on post-processed data saved during the modeling process, ensuring accurate visualization.

You can use :func:`opstool.vis.pyvista.plot_model` anywhere within your model script.
It reads the predefined data, such as nodes and elements, and generates a visual representation of the model.

.. GENERATED FROM PYTHON SOURCE LINES 13-16

.. code-block:: Python

    import opstool as opst
    import opstool.vis.pyvista as opsvis








.. GENERATED FROM PYTHON SOURCE LINES 17-19

Here, we use a built-in example from ``opstool``, which is an example of a cable-stayed bridge model primarily composed of frame elements and shell elements.
For your own model script, simply place the :func:`opstool.vis.plotly.plot_model` function anywhere you need visualization.

.. GENERATED FROM PYTHON SOURCE LINES 21-22

A Bridge Example

.. GENERATED FROM PYTHON SOURCE LINES 22-25

.. code-block:: Python

    opst.load_ops_examples("CableStayedBridge")
    # or your model code here








.. GENERATED FROM PYTHON SOURCE LINES 26-27

quick plot

.. GENERATED FROM PYTHON SOURCE LINES 27-30

.. code-block:: Python

    plotter = opsvis.plot_model()
    plotter.show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /_sphinx_gallery_examples/vis-guide/pyvista/images/sphx_glr_ex-01-model-pyvista_001.png
        :alt: ex 01 model pyvista
        :srcset: /_sphinx_gallery_examples/vis-guide/pyvista/images/sphx_glr_ex-01-model-pyvista_001.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\_sphinx_gallery_examples\vis-guide\pyvista\images\sphx_glr_ex-01-model-pyvista_001.vtksz






.. GENERATED FROM PYTHON SOURCE LINES 31-36

Saving Model Data
-------------------
We can first save the model geometry data by assigning a unique label to the result database using the parameter **odb_tag**.
This label is used to identify the data.
For more details, see :func:`opstool.post.save_model_data`.

.. GENERATED FROM PYTHON SOURCE LINES 36-38

.. code-block:: Python

    opst.post.save_model_data(odb_tag=1)





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL™ ::  Model data has been saved to G:\opstool\docs\.opstool.output/ModelData-1.zarr!




.. GENERATED FROM PYTHON SOURCE LINES 39-44

Visualization
-------------------
We use the :func:`opstool.vis.pyvista.set_plot_props` function to predefine some common visualization properties, which will affect all subsequent visualizations of models, eigenvalues, and responses.
.. Note::
    If you are not working in Jupyter Notebook or JupyterLab, ensure that **notebook=False**.

.. GENERATED FROM PYTHON SOURCE LINES 44-46

.. code-block:: Python

    opsvis.set_plot_props(point_size=0, line_width=3, notebook=True)








.. GENERATED FROM PYTHON SOURCE LINES 47-50

Visualization is straightforward; simply call the :func:`opstool.vis.pyvista.plot_model` function.
The **odb_tag** parameter helps you identify which dataset to use.
For details on various parameters, refer to the :func:`opstool.vis.pyvista.plot_model`.

.. GENERATED FROM PYTHON SOURCE LINES 50-53

.. code-block:: Python

    plotter = opsvis.plot_model(odb_tag=1)
    plotter.show()








.. tab-set::



   .. tab-item:: Static Scene



            
     .. image-sg:: /_sphinx_gallery_examples/vis-guide/pyvista/images/sphx_glr_ex-01-model-pyvista_002.png
        :alt: ex 01 model pyvista
        :srcset: /_sphinx_gallery_examples/vis-guide/pyvista/images/sphx_glr_ex-01-model-pyvista_002.png
        :class: sphx-glr-single-img
     


   .. tab-item:: Interactive Scene



       .. offlineviewer:: G:\opstool\docs\_sphinx_gallery_examples\vis-guide\pyvista\images\sphx_glr_ex-01-model-pyvista_002.vtksz



.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    OPSTOOL™ ::  Loading model data from G:\opstool\docs\.opstool.output/ModelData-1.zarr ...
    Widget(value='<iframe src="http://localhost:64039/index.html?ui=P_0x2a3a230bc50_0&reconnect=auto" class="pyvista" style="width: 99%; height: 600px; border: 1px solid rgb(221,221,221);"></iframe>')




.. GENERATED FROM PYTHON SOURCE LINES 54-63

The function :func:`opstool.vis.pyvista.plot_model` returns a `pyvista.Plotter <https://docs.pyvista.org/api/plotting/_autosummary/pyvista.plotter>`_. object, which you can visualize using the `show` method.

You can use
`Plotter.show <https://docs.pyvista.org/api/plotting/_autosummary/pyvista.plotter.show#pyvista.Plotter.show>`_.
to display the plotting window.

You can also use
`Plotter.export_html <https://docs.pyvista.org/api/plotting/_autosummary/pyvista.plotter.export_html#pyvista.Plotter.export_html>`_.
to export this plotter as an interactive scene to an HTML file.


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 1.753 seconds)


.. _sphx_glr_download__sphinx_gallery_examples_vis-guide_pyvista_ex-01-model-pyvista.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: ex-01-model-pyvista.ipynb <ex-01-model-pyvista.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: ex-01-model-pyvista.py <ex-01-model-pyvista.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: ex-01-model-pyvista.zip <ex-01-model-pyvista.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
