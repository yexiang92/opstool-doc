<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="Soil-Structure Interaction" href="ex-ssi-Gu.html" /><link rel="prev" title="3D Nonlinear beam-column elements Gravity load analysis followed by transient analysis" href="ex-nonlinear-frame-transient.html" />

    <link rel="shortcut icon" href="../../../_static/logo.png"/><!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>Two storey steel moment frame with W-sections for displacement-controlled sensitivity analysis - opstool 1.0.24 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=5f771d8e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css?v=572af1d6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../../../_static/_css/shared.css?v=165b944a" />
    <link rel="stylesheet" type="text/css" href="../../../_static/_css/furo.css?v=75230d29" />
    
    


<style>
  body {
    --color-code-background: #fbf1c7;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #1d2331;
  --color-code-foreground: #d4d2c8;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #1d2331;
  --color-code-foreground: #d4d2c8;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">opstool 1.0.24 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/logo-light.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/logo-dark.png" alt="Dark Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Quick Start</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../known_issues.html">Known Issues</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../quick_start.html">Quick Start</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Quick Start</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../quick-start/ex-frame2D.html">Two-Dimensional Moment Frame Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quick-start/ex-quick-plot-model.html">Quick Model and Eigen Visualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../quick_start.html#features">Features</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../src/pre/index.html">Pre-Processing</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Pre-Processing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../src/pre/sec_mesh.html">Fiber Section Mesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/pre/read_gmsh.html">Converting GMSH to OpenSeesPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/pre/tcl2py.html">Convert Tcl code to OpenSeesPy commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/pre/unit_system.html">Automatic Unit Conversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/pre/model_data.html">Quickly apply gravity loads and obtain mass and stiffness matrices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/pre/loads.html">Loads Processing</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../src/post/index.html">Post-Processing</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Post-Processing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../src/post/eigen.html">Eigenvalue Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/post/nodal_resp.html">Node Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/post/frame_resp.html">Frame Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/post/fiber_sec_resp.html">Fiber Section Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/post/truss_resp.html">Truss Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/post/shell_resp.html">Shell Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/post/plane_up_resp.html">Plane response</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/post/brick_resp.html">Brick Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/post/sensitivity_resp.html">Sensitivity Analysis Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/post/unit_transform.html">Unit conversion in post-processing</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../vis-guide/index.html">Visualization</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Visualization</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../vis-guide/plotly/index.html">Plotyly-Based Visualization</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Plotyly-Based Visualization</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../vis-guide/plotly/ex-01-model-plotly.html">Model Geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vis-guide/plotly/ex-02-eigen-plotly.html">Eigen</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vis-guide/plotly/ex-03-nodal-resp-plotly.html">Nodal Responses Visualization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vis-guide/plotly/ex-04-frame-resp-plotly.html">Frame Element Responses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vis-guide/plotly/ex-05-truss-resp-plotly.html">Truss Element Responses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vis-guide/plotly/ex-06-shell-resp-plotly.html">Shell Element Responses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vis-guide/plotly/ex-07-plane-resp-plotly.html">Plane stress quad model visualization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vis-guide/plotly/ex-08-brick-resp-plotly.html">Solid Element Responses</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../vis-guide/pyvista/index.html">Pyvista-Based Visualization</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Pyvista-Based Visualization</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../vis-guide/pyvista/ex-01-model-pyvista.html">Model Geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vis-guide/pyvista/ex-02-eigen-pyvista.html">Eigen</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vis-guide/pyvista/ex-03-nodal-resp-pyvista.html">Nodal Responses Visualization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vis-guide/pyvista/ex-04-frame-resp-pyvista.html">Frame Element Responses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vis-guide/pyvista/ex-05-truss-resp-pyvista.html">Truss Element Responses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vis-guide/pyvista/ex-06-shell-resp-pyvista.html">Shell Element Responses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vis-guide/pyvista/ex-07-plane-resp-pyvista.html">Plane stress quad model visualization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vis-guide/pyvista/ex-08-brick-resp-pyvista.html">Solid Element Responses</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../src/analysis/index.html">Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Analysis</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../src/analysis/smart_analysis.html">Smart Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/analysis/mc_analysis.html">Moment Curvature Analysis of Section</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/analysis/buckling_analysis_linear.html">Linear Buckling Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/analysis/responseSpectrumAnalysis.html">Response Spectrum Analysis</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Post-Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html#pre-processing">Pre-Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html#fiber-section-mesh">Fiber Section Mesh</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html#visualization">Visualization</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Visualization</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">Post-Processing</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Post-Processing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ex-2DFrame-Pushover.html">Reinforced Concrete Frame Pushover Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="ex-PressureDependMultiYield-6.html">Dry single BbarBrick element with pressure dependent material</a></li>
<li class="toctree-l3"><a class="reference internal" href="ex-cantilever-roll-up.html">Cantilever Bending Roll-up (corotational)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ex-double-layer-shallow-dome.html">Double-Layer Shallow Dome</a></li>
<li class="toctree-l3"><a class="reference internal" href="ex-ele-removal-add.html">Remove and Add Elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="ex-excavation.html">Excavation Supported by Cantilevered Sheet Pile Wall</a></li>
<li class="toctree-l3"><a class="reference internal" href="ex-forma11c.html">Modal analysis of a cooling tower</a></li>
<li class="toctree-l3"><a class="reference internal" href="ex-fsi-gu.html">Fluid-structure interaction</a></li>
<li class="toctree-l3"><a class="reference internal" href="ex-nonlinear-frame-transient.html">3D Nonlinear beam-column elements Gravity load analysis followed by transient analysis</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Two storey steel moment frame with W-sections for displacement-controlled sensitivity analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="ex-ssi-Gu.html">Soil-Structure Interaction</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../preprocessing/index.html">Pre-Processing</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Pre-Processing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../preprocessing/ex-read-gmsh-1.html">Gmsh2OPS: Case 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preprocessing/ex-read-gmsh-2.html">Gmsh2OPS: Case 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preprocessing/ex-read-gmsh-3.html">3D Beam Element Example - A Dome Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../preprocessing/ex-read-gmsh-4.html">Gmsh2OPS: Linear shell arch model</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../sec-mesh/index.html">Fiber Section Mesh</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Fiber Section Mesh</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../sec-mesh/ex-bridge-deck.html">Bridge superstructure section</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sec-mesh/ex-cfst.html">Concrete-Filled Steel Tube (CFST) Section Meshing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sec-mesh/ex-composite.html">Steel-Concrete Composite Section Meshing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sec-mesh/ex-rc-section.html">Hollow Rectangular RC Section</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sec-mesh/ex-sec-props.html">Interaction with sectionproperties</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../vis/index.html">Visualization</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Visualization</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../vis/ex-vis-megatall.html">606 m Mega-tall Building</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../src/api/global.html">Global Functions</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Global Functions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.load_ops_examples.html">load_ops_examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.add_ops_hints_file.html">add_ops_hints_file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.run_model.html">run_model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.print_version.html">print_version</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../src/api/pre.html">Preprocessing</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Preprocessing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../src/api/pre.section.html">Fiber Section Mesh</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of Fiber Section Mesh</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.FiberSecMesh.html">FiberSecMesh</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.SecMesh.html">SecMesh</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.create_material.html">create_material</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.create_polygon_patch.html">create_polygon_patch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.create_circle_patch.html">create_circle_patch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.create_patch_from_dxf.html">create_patch_from_dxf</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.create_polygon_points.html">create_polygon_points</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.create_circle_points.html">create_circle_points</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.offset.html">offset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.line_offset.html">line_offset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.poly_offset.html">poly_offset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.set_patch_material.html">set_patch_material</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.vis_fiber_sec_real.html">vis_fiber_sec_real</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.section.html">opstool.pre.section.section</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.fiber.html">opstool.pre.section.fiber</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.patch.html">opstool.pre.section.patch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.layer.html">opstool.pre.section.layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.section.plot_fiber_sec_cmds.html">opstool.pre.section.plot_fiber_sec_cmds</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.tcl2py.html">tcl2py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.Gmsh2OPS.html">Gmsh2OPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.UnitSystem.html">UnitSystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.create_gravity_load.html">create_gravity_load</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.gen_grav_load.html">gen_grav_load</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.transform_beam_uniform_load.html">transform_beam_uniform_load</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.transform_beam_point_load.html">transform_beam_point_load</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.transform_surface_uniform_load.html">transform_surface_uniform_load</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.apply_load_distribution.html">apply_load_distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.get_node_coord.html">get_node_coord</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.get_node_mass.html">get_node_mass</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.get_mck.html">get_mck</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.ModelMass.html">ModelMass</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.find_void_nodes.html">find_void_nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.pre.remove_void_nodes.html">remove_void_nodes</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../src/api/post.html">Postprocessing</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Postprocessing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.post.set_odb_path.html">set_odb_path</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.post.set_odb_format.html">set_odb_format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.post.update_unit_system.html">update_unit_system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.post.reset_unit_system.html">reset_unit_system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.post.save_model_data.html">save_model_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.post.save_eigen_data.html">save_eigen_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.post.save_linear_buckling_data.html">save_linear_buckling_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.post.CreateODB.html">CreateODB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.post.get_model_data.html">get_model_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.post.get_eigen_data.html">get_eigen_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.post.get_linear_buckling_data.html">get_linear_buckling_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.post.get_nodal_responses.html">get_nodal_responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.post.get_element_responses.html">get_element_responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.post.get_sensitivity_responses.html">get_sensitivity_responses</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../src/api/vis.html">Visualization</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of Visualization</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.plotly.set_plot_props.html">set_plot_props</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.plotly.set_plot_colors.html">set_plot_colors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.plotly.plot_model.html">plot_model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.plotly.plot_eigen.html">plot_eigen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.plotly.plot_eigen_animation.html">plot_eigen_animation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.plotly.plot_eigen_table.html">plot_eigen_table</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.plotly.plot_nodal_responses.html">plot_nodal_responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.plotly.plot_nodal_responses_animation.html">plot_nodal_responses_animation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.plotly.plot_truss_responses.html">plot_truss_responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.plotly.plot_truss_responses_animation.html">plot_truss_responses_animation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.plotly.plot_frame_responses.html">plot_frame_responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.plotly.plot_frame_responses_animation.html">plot_frame_responses_animation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.plotly.plot_unstruct_responses.html">plot_unstruct_responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.plotly.plot_unstruct_responses_animation.html">plot_unstruct_responses_animation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.pyvista.set_plot_props.html">set_plot_props</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.pyvista.set_plot_colors.html">set_plot_colors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.pyvista.plot_model.html">plot_model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.pyvista.plot_eigen.html">plot_eigen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.pyvista.plot_eigen_animation.html">plot_eigen_animation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.pyvista.plot_nodal_responses.html">plot_nodal_responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.pyvista.plot_nodal_responses_animation.html">plot_nodal_responses_animation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.pyvista.plot_truss_responses.html">plot_truss_responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.pyvista.plot_truss_responses_animation.html">plot_truss_responses_animation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.pyvista.plot_frame_responses.html">plot_frame_responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.pyvista.plot_frame_responses_animation.html">plot_frame_responses_animation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.pyvista.plot_unstruct_responses.html">plot_unstruct_responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.pyvista.plot_unstruct_responses_animation.html">plot_unstruct_responses_animation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.pyvista.get_nodal_responses_dataset.html">get_nodal_responses_dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.vis.pyvista.get_unstruct_responses_dataset.html">get_unstruct_responses_dataset</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../src/api/analysis.html">Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of Analysis</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.anlys.SmartAnalyze.html">SmartAnalyze</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../src/api/_autosummary/opstool.anlys.MomentCurvature.html">MomentCurvature</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Theory Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../src/theory/theory_stress_criteria.html">Stress and Strength Criteria</a></li>
</ul>

</div>
</div><a
  class="gh-source"
  href="https://github.com/yexiang92/opstool"
  aria-label="On GitHub"
  target="_blank"
>
  <svg
    stroke="currentColor"
    fill="currentColor"
    stroke-width="0"
    viewBox="0 0 16 16"
    class="gh-source--icon"
  >
    <path
      fill-rule="evenodd"
      d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"
    ></path>
  </svg>
  <span class="gh-source--info">
    <span class="gh-source--repo-text"> yexiang92/opstool </span>
    <span class="gh-source--version">
      <svg
        stroke="currentColor"
        fill="currentColor"
        stroke-width="0"
        viewBox="0 0 16 16"
        class="gh-source--version-icon"
      >
        <path
          fill-rule="evenodd"
          d="M2.5 7.775V2.75a.25.25 0 0 1 .25-.25h5.025a.25.25 0 0 1 .177.073l6.25 6.25a.25.25 0 0 1 0 .354l-5.025 5.025a.25.25 0 0 1-.354 0l-6.25-6.25a.25.25 0 0 1-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.75 1.75 0 0 1 1 7.775zM6 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"
        />
      </svg>
      <span class="gh-source--version-text"> 1.0.24 </span>
    </span>
  </span>
</a>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/yexiang92/opstool/blob/master/docs/auto_examples/examples/postprocessing/ex-sensitivity2.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/yexiang92/opstool/edit/master/docs/auto_examples/examples/postprocessing/ex-sensitivity2.rst" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-auto-examples-examples-postprocessing-ex-sensitivity2-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="two-storey-steel-moment-frame-with-w-sections-for-displacement-controlled-sensitivity-analysis">
<span id="sphx-glr-auto-examples-examples-postprocessing-ex-sensitivity2-py"></span><h1>Two storey steel moment frame with W-sections for displacement-controlled sensitivity analysis<a class="headerlink" href="#two-storey-steel-moment-frame-with-w-sections-for-displacement-controlled-sensitivity-analysis" title="Link to this heading">¶</a></h1>
<p>This document will teach you how to use opstool to post-process sensitivity analysis.</p>
<p>The source code is developed by <a class="reference external" href="https://openseespydoc.readthedocs.io/en/latest/src/SteelFrameSensitivity2D_v1.html">Marin Grubišić at University of Osijek, Croatia</a>.
The numerical model with the associated analysis was described in detail by Prof. Michael Scott in the <a class="reference external" href="https://portwooddigital.com/2021/01/03/sensitivity-training/">Portwood Digital blog</a>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">openseespy.opensees</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ops</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">opstool</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">opst</span>
</pre></div>
</div>
<section id="opensees-model">
<h2>OpenSees Model<a class="headerlink" href="#opensees-model" title="Link to this heading">¶</a></h2>
<p>Use the unit system provided by opstool:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">length_unit</span> <span class="o">=</span> <span class="s2">&quot;inch&quot;</span>
<span class="n">force_unit</span> <span class="o">=</span> <span class="s2">&quot;kip&quot;</span>
<span class="n">UNIT</span> <span class="o">=</span> <span class="n">opst</span><span class="o">.</span><span class="n">pre</span><span class="o">.</span><span class="n">UnitSystem</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="n">length_unit</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force_unit</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="s2">&quot;sec&quot;</span><span class="p">)</span>
</pre></div>
</div>
<section id="define-model">
<h3>Define model<a class="headerlink" href="#define-model" title="Link to this heading">¶</a></h3>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create ModelBuilder</span>
<span class="c1"># -------------------</span>
<span class="n">ops</span><span class="o">.</span><span class="n">wipe</span><span class="p">()</span>
<span class="n">ops</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="s2">&quot;basic&quot;</span><span class="p">,</span> <span class="s2">&quot;-ndm&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;-ndf&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="c1"># Create nodes</span>
<span class="c1"># ------------</span>
<span class="n">ops</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>  <span class="c1"># Ground Level</span>
<span class="n">ops</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">30</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">ft</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">15</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">ft</span><span class="p">)</span>  <span class="c1"># 1st Floor Level</span>
<span class="n">ops</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">30</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">ft</span><span class="p">,</span> <span class="mi">15</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">ft</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">15</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">ft</span><span class="p">)</span>  <span class="c1"># 2nd Floor Level</span>
<span class="n">ops</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">30</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">ft</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">15</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">ft</span><span class="p">)</span>

<span class="c1"># Fix supports at base of columns</span>
<span class="c1"># -------------------------------</span>
<span class="n">ops</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Define material</span>
<span class="c1"># ---------------</span>
<span class="n">matTag</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">Fy</span> <span class="o">=</span> <span class="mf">50.0</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">ksi</span>  <span class="c1"># Yield stress</span>
<span class="n">Es</span> <span class="o">=</span> <span class="mf">29000.0</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">ksi</span>  <span class="c1"># Modulus of Elasticity of Steel</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">100</span>  <span class="c1"># 1% Strain hardening ratio</span>

<span class="c1"># Sensitivity-ready steel materials: Hardening, Steel01, SteelMP, BoucWen, SteelBRB, StainlessECThermal, SteelECThermal, ...</span>
<span class="n">ops</span><span class="o">.</span><span class="n">uniaxialMaterial</span><span class="p">(</span><span class="s2">&quot;Steel01&quot;</span><span class="p">,</span> <span class="n">matTag</span><span class="p">,</span> <span class="n">Fy</span><span class="p">,</span> <span class="n">Es</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="c1"># ops.uniaxialMaterial(&quot;SteelMP&quot;, matTag, Fy, Es, b)</span>

<span class="c1"># Define sections</span>
<span class="c1"># ---------------</span>
<span class="c1"># Sections defined with &quot;canned&quot; section (&quot;WFSection2d&quot;), otherwise use a FiberSection object (ops.section(&quot;Fiber&quot;,...))</span>
<span class="n">colSecTag</span><span class="p">,</span> <span class="n">beamSecTag</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="n">WSection</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;W18x76&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mf">18.2</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">inch</span><span class="p">,</span>
        <span class="mf">0.425</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">inch</span><span class="p">,</span>
        <span class="mf">11.04</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">inch</span><span class="p">,</span>
        <span class="mf">0.68</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">inch</span><span class="p">,</span>
    <span class="p">],</span>  <span class="c1"># [d, tw, bf, tf]</span>
    <span class="s2">&quot;W14X90&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mf">14.02</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">inch</span><span class="p">,</span>
        <span class="mf">0.44</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">inch</span><span class="p">,</span>
        <span class="mf">14.52</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">inch</span><span class="p">,</span>
        <span class="mf">0.71</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">inch</span><span class="p">,</span>
    <span class="p">],</span>  <span class="c1"># [d, tw, bf, tf]</span>
<span class="p">}</span>

<span class="c1">#                          secTag,    matTag, [d, tw, bf, tf],    Nfw, Nff</span>
<span class="n">ops</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="s2">&quot;WFSection2d&quot;</span><span class="p">,</span> <span class="n">colSecTag</span><span class="p">,</span> <span class="n">matTag</span><span class="p">,</span> <span class="o">*</span><span class="n">WSection</span><span class="p">[</span><span class="s2">&quot;W14X90&quot;</span><span class="p">],</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>  <span class="c1"># Column section</span>
<span class="n">ops</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="s2">&quot;WFSection2d&quot;</span><span class="p">,</span> <span class="n">beamSecTag</span><span class="p">,</span> <span class="n">matTag</span><span class="p">,</span> <span class="o">*</span><span class="n">WSection</span><span class="p">[</span><span class="s2">&quot;W18x76&quot;</span><span class="p">],</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>  <span class="c1"># Beam section</span>

<span class="c1"># Define elements</span>
<span class="c1"># ---------------</span>
<span class="n">colTransTag</span><span class="p">,</span> <span class="n">beamTransTag</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="c1"># Linear, PDelta, Corotational</span>
<span class="n">ops</span><span class="o">.</span><span class="n">geomTransf</span><span class="p">(</span><span class="s2">&quot;Corotational&quot;</span><span class="p">,</span> <span class="n">colTransTag</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">geomTransf</span><span class="p">(</span><span class="s2">&quot;Linear&quot;</span><span class="p">,</span> <span class="n">beamTransTag</span><span class="p">)</span>

<span class="n">colIntTag</span><span class="p">,</span> <span class="n">beamIntTag</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="n">nip</span> <span class="o">=</span> <span class="mi">5</span>
<span class="c1"># Lobatto, Legendre, NewtonCotes, Radau, Trapezoidal, CompositeSimpson</span>
<span class="p">(</span><span class="n">ops</span><span class="o">.</span><span class="n">beamIntegration</span><span class="p">(</span><span class="s2">&quot;Lobatto&quot;</span><span class="p">,</span> <span class="n">colIntTag</span><span class="p">,</span> <span class="n">colSecTag</span><span class="p">,</span> <span class="n">nip</span><span class="p">),)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">beamIntegration</span><span class="p">(</span><span class="s2">&quot;Lobatto&quot;</span><span class="p">,</span> <span class="n">beamIntTag</span><span class="p">,</span> <span class="n">beamSecTag</span><span class="p">,</span> <span class="n">nip</span><span class="p">)</span>

<span class="c1"># Column elements</span>
<span class="n">ops</span><span class="o">.</span><span class="n">element</span><span class="p">(</span><span class="s2">&quot;forceBeamColumn&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">colTransTag</span><span class="p">,</span> <span class="n">colIntTag</span><span class="p">,</span> <span class="s2">&quot;-mass&quot;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">element</span><span class="p">(</span><span class="s2">&quot;forceBeamColumn&quot;</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">colTransTag</span><span class="p">,</span> <span class="n">colIntTag</span><span class="p">,</span> <span class="s2">&quot;-mass&quot;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">element</span><span class="p">(</span><span class="s2">&quot;forceBeamColumn&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">colTransTag</span><span class="p">,</span> <span class="n">colIntTag</span><span class="p">,</span> <span class="s2">&quot;-mass&quot;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">element</span><span class="p">(</span><span class="s2">&quot;forceBeamColumn&quot;</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">colTransTag</span><span class="p">,</span> <span class="n">colIntTag</span><span class="p">,</span> <span class="s2">&quot;-mass&quot;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

<span class="c1"># Beam elements</span>
<span class="n">ops</span><span class="o">.</span><span class="n">element</span><span class="p">(</span><span class="s2">&quot;forceBeamColumn&quot;</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">beamTransTag</span><span class="p">,</span> <span class="n">beamIntTag</span><span class="p">,</span> <span class="s2">&quot;-mass&quot;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">element</span><span class="p">(</span><span class="s2">&quot;forceBeamColumn&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">beamTransTag</span><span class="p">,</span> <span class="n">beamIntTag</span><span class="p">,</span> <span class="s2">&quot;-mass&quot;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

<span class="c1"># Create a Plain load pattern with a Linear TimeSeries</span>
<span class="c1"># ----------------------------------------------------</span>
<span class="n">ops</span><span class="o">.</span><span class="n">timeSeries</span><span class="p">(</span><span class="s2">&quot;Linear&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">pattern</span><span class="p">(</span><span class="s2">&quot;Plain&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="define-sensitivity-parameters">
<h3>Define Sensitivity Parameters<a class="headerlink" href="#define-sensitivity-parameters" title="Link to this heading">¶</a></h3>
<p>Each parameter must be unique in the FE domain, and all parameter tags MUST be numbered sequentially starting from 1!</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">ops</span><span class="o">.</span><span class="n">parameter</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Blank parameters</span>
<span class="n">ops</span><span class="o">.</span><span class="n">parameter</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">parameter</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="k">for</span> <span class="n">ele</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">]:</span>  <span class="c1"># Only column elements</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">addToParameter</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;element&quot;</span><span class="p">,</span> <span class="n">ele</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">)</span>  <span class="c1"># &quot;E&quot;</span>
    <span class="c1"># Check the sensitivity parameter name in *.cpp files (&quot;sigmaY&quot; or &quot;fy&quot;, somewhere also &quot;Fy&quot;)</span>
    <span class="c1"># https://github.com/OpenSees/OpenSees/blob/master/SRC/material/uniaxial/Steel02.cpp</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">addToParameter</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;element&quot;</span><span class="p">,</span> <span class="n">ele</span><span class="p">,</span> <span class="s2">&quot;fy&quot;</span><span class="p">)</span>  <span class="c1"># &quot;sigmaY&quot; or &quot;fy&quot; or &quot;Fy&quot;</span>
    <span class="n">ops</span><span class="o">.</span><span class="n">addToParameter</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;element&quot;</span><span class="p">,</span> <span class="n">ele</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">)</span>  <span class="c1"># &quot;b&quot;</span>

<span class="n">ParamSym</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;F_y&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s2">&quot;b&quot;</span><span class="p">}</span>
<span class="n">ParamVars</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="n">Es</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="n">Fy</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="n">b</span><span class="p">}</span>
</pre></div>
</div>
<p>Visualize the model</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">opst</span><span class="o">.</span><span class="n">vis</span><span class="o">.</span><span class="n">pyvista</span><span class="o">.</span><span class="n">plot_model</span><span class="p">(</span><span class="n">show_node_numbering</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show_ele_numbering</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-0">
Static Scene</label><div class="sd-tab-content docutils">
<img src="../../../_images/sphx_glr_ex-sensitivity2_001.png" srcset="../../../_images/sphx_glr_ex-sensitivity2_001.png" alt="ex sensitivity2" class = "sphx-glr-single-img"/></div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-1">
Interactive Scene</label><div class="sd-tab-content docutils">
<iframe src='../../../_static/static_viewer.html?fileURL=../_images/auto_examples/examples/postprocessing/images/sphx_glr_ex-sensitivity2_001.vtksz' width='100%%' height='400px' frameborder='0'></iframe></div>
</div>
</section>
<section id="run-gravity-analysis-in-10-steps">
<h3>Run gravity analysis (in 10 steps)<a class="headerlink" href="#run-gravity-analysis-in-10-steps" title="Link to this heading">¶</a></h3>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">steps</span> <span class="o">=</span> <span class="mi">10</span>

<span class="n">ops</span><span class="o">.</span><span class="n">wipeAnalysis</span><span class="p">()</span>
<span class="n">ops</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;BandGeneral&quot;</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">numberer</span><span class="p">(</span><span class="s2">&quot;RCM&quot;</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">constraints</span><span class="p">(</span><span class="s2">&quot;Transformation&quot;</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;NormDispIncr&quot;</span><span class="p">,</span> <span class="mf">1.0e-12</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">algorithm</span><span class="p">(</span><span class="s2">&quot;Newton&quot;</span><span class="p">)</span>  <span class="c1"># KrylovNewton</span>
<span class="n">ops</span><span class="o">.</span><span class="n">integrator</span><span class="p">(</span><span class="s2">&quot;LoadControl&quot;</span><span class="p">,</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">steps</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">analysis</span><span class="p">(</span><span class="s2">&quot;Static&quot;</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">analyze</span><span class="p">(</span><span class="n">steps</span><span class="p">)</span>
<span class="c1"># Set the gravity loads to be constant &amp; reset the time in the domain</span>
<span class="n">ops</span><span class="o">.</span><span class="n">loadConst</span><span class="p">(</span><span class="s2">&quot;-time&quot;</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">wipeAnalysis</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="run-sensitivity-and-pushover-analysis">
<h3>Run sensitivity and pushover analysis<a class="headerlink" href="#run-sensitivity-and-pushover-analysis" title="Link to this heading">¶</a></h3>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define nodal loads for pushover analysis</span>
<span class="n">ops</span><span class="o">.</span><span class="n">pattern</span><span class="p">(</span><span class="s2">&quot;Plain&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># new load pattern 2</span>
<span class="c1"># Create nodal loads at nodes 3 &amp; 5</span>
<span class="c1">#       nd  FX   FY   MZ</span>
<span class="n">ops</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">P</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span>  <span class="c1"># Total load</span>
</pre></div>
</div>
<p>Control node and dof for pushover analysis</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">ctrlNode</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">dof</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">Dincr</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="mi">25</span><span class="p">)</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">inch</span>
<span class="n">max_disp</span> <span class="o">=</span> <span class="mi">20</span> <span class="o">*</span> <span class="n">UNIT</span><span class="o">.</span><span class="n">inch</span>
</pre></div>
</div>
<p>Setting up the analysis algorithm</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">ops</span><span class="o">.</span><span class="n">wipeAnalysis</span><span class="p">()</span>
<span class="n">ops</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;BandGeneral&quot;</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">constraints</span><span class="p">(</span><span class="s2">&quot;Transformation&quot;</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">numberer</span><span class="p">(</span><span class="s2">&quot;RCM&quot;</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;NormDispIncr&quot;</span><span class="p">,</span> <span class="mf">1.0e-8</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">algorithm</span><span class="p">(</span><span class="s2">&quot;Newton&quot;</span><span class="p">)</span>
<span class="c1"># Change the integration scheme to be displacement control</span>
<span class="c1">#                                     node      dof  init Jd min max</span>
<span class="n">ops</span><span class="o">.</span><span class="n">integrator</span><span class="p">(</span><span class="s2">&quot;DisplacementControl&quot;</span><span class="p">,</span> <span class="n">ctrlNode</span><span class="p">,</span> <span class="n">dof</span><span class="p">,</span> <span class="n">Dincr</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">analysis</span><span class="p">(</span><span class="s2">&quot;Static&quot;</span><span class="p">)</span>
<span class="n">ops</span><span class="o">.</span><span class="n">sensitivityAlgorithm</span><span class="p">(</span><span class="s2">&quot;-computeAtEachStep&quot;</span><span class="p">)</span>  <span class="c1"># automatically compute sensitivity at the end of each step</span>
</pre></div>
</div>
<section id="run-the-analysis">
<h4>Run the analysis<a class="headerlink" href="#run-the-analysis" title="Link to this heading">¶</a></h4>
<p>Here we use the [smart analysis algorithm](<a class="reference external" href="https://opstool.readthedocs.io/en/latest/src/api/_autosummary/opstool.anlys.SmartAnalyze.html#opstool.anlys.SmartAnalyze">https://opstool.readthedocs.io/en/latest/src/api/_autosummary/opstool.anlys.SmartAnalyze.html#opstool.anlys.SmartAnalyze</a>) provided by opstool, which can help convergence.</p>
<p>It should be noted that since the <strong>integrator may be reset internally</strong>, you need to call the <code class="docutils literal notranslate"><span class="pre">set_sensitivity_algorithm</span></code> method to inform you that you are running sensitivity analysis so that the sensitivity analysis algorithm is reset every time the integrator is reset.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">analysis</span> <span class="o">=</span> <span class="n">opst</span><span class="o">.</span><span class="n">anlys</span><span class="o">.</span><span class="n">SmartAnalyze</span><span class="p">(</span>
    <span class="n">analysis_type</span><span class="o">=</span><span class="s2">&quot;Static&quot;</span><span class="p">,</span>
    <span class="n">tryAlterAlgoTypes</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">algoTypes</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
    <span class="n">printPer</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">analysis</span><span class="o">.</span><span class="n">set_sensitivity_algorithm</span><span class="p">(</span><span class="s2">&quot;-computeAtEachStep&quot;</span><span class="p">)</span>
<span class="n">segs</span> <span class="o">=</span> <span class="n">analysis</span><span class="o">.</span><span class="n">static_split</span><span class="p">([</span><span class="n">max_disp</span><span class="p">],</span> <span class="n">Dincr</span><span class="p">)</span>
<span class="n">ODB</span> <span class="o">=</span> <span class="n">opst</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">CreateODB</span><span class="p">(</span><span class="s2">&quot;sensitivity-pushover&quot;</span><span class="p">,</span> <span class="n">save_sensitivity_resp</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">segs</span><span class="p">:</span>
    <span class="n">analysis</span><span class="o">.</span><span class="n">StaticAnalyze</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">ctrlNode</span><span class="p">,</span> <span class="n">dof</span><span class="o">=</span><span class="n">dof</span><span class="p">,</span> <span class="n">seg</span><span class="o">=</span><span class="n">seg</span><span class="p">)</span>
    <span class="c1"># ops.analyze(1)</span>
    <span class="n">ODB</span><span class="o">.</span><span class="n">fetch_response_step</span><span class="p">()</span>
<span class="n">ODB</span><span class="o">.</span><span class="n">save_response</span><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>🚀 OPSTOOL::SmartAnalyze:   0%|                                                    | 0/500 [00:00&lt;?, ? step/s]
🚀 OPSTOOL::SmartAnalyze:  21%|████████▍                               | 105/500 [00:00&lt;00:00, 1042.81 step/s]
🚀 OPSTOOL::SmartAnalyze:  43%|█████████████████▏                      | 215/500 [00:00&lt;00:00, 1060.01 step/s]
🚀 OPSTOOL::SmartAnalyze:  65%|██████████████████████████              | 325/500 [00:00&lt;00:00, 1072.13 step/s]
🚀 OPSTOOL::SmartAnalyze:  90%|████████████████████████████████████    | 450/500 [00:00&lt;00:00, 1078.01 step/s]
🚀 OPSTOOL::SmartAnalyze: 100%|████████████████████████████████████████| 500/500 [00:00&lt;00:00, 1078.01 step/s]
🚀 OPSTOOL::SmartAnalyze: 100%|████████████████████████████████████████| 500/500 [00:00&lt;00:00, 1063.13 step/s]
Note: OpenSees LogFile has been generated in .SmartAnalyze-OpenSees.log.
&gt;&gt;&gt; 🎉 OPSTOOL::SmartAnalyze:: Successfully finished! Time consumption: 0.470 s. 🎉
OPSTOOL ::  All responses data with _odb_tag = sensitivity-pushover saved in
G:\opstool\docs\.opstool.output/RespStepData-sensitivity-pushover.zarr!
</pre></div>
</div>
</section>
</section>
</section>
<section id="post-processing">
<h2>Post-processing<a class="headerlink" href="#post-processing" title="Link to this heading">¶</a></h2>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">ctrlNode</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># Node 5</span>
<span class="n">dof</span> <span class="o">=</span> <span class="s2">&quot;UX&quot;</span>  <span class="c1"># 1st DOF (X direction)</span>
</pre></div>
</div>
<section id="loading-node-response">
<h3>Loading node response<a class="headerlink" href="#loading-node-response" title="Link to this heading">¶</a></h3>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">node_resp</span> <span class="o">=</span> <span class="n">opst</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">get_nodal_responses</span><span class="p">(</span><span class="n">odb_tag</span><span class="o">=</span><span class="s2">&quot;sensitivity-pushover&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;data variables:&quot;</span><span class="p">,</span> <span class="n">node_resp</span><span class="o">.</span><span class="n">data_vars</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;dimensions:&quot;</span><span class="p">,</span> <span class="n">node_resp</span><span class="o">.</span><span class="n">dims</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;coordinates:&quot;</span><span class="p">,</span> <span class="n">node_resp</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>OPSTOOL ::  Loading all response data from
G:\opstool\docs\.opstool.output/RespStepData-sensitivity-pushover.zarr ...
data variables: Data variables:
    accel               (time, nodeTags, DOFs) float32 72kB 0.0 0.0 ... 0.0 0.0
    disp                (time, nodeTags, DOFs) float32 72kB 0.0 0.0 ... -0.02203
    pressure            (time, nodeTags) float32 12kB 0.0 0.0 0.0 ... 0.0 0.0
    rayleighForces      (time, nodeTags, DOFs) float32 72kB 0.0 0.0 ... 0.0 0.0
    reaction            (time, nodeTags, DOFs) float32 72kB 0.0 ... -1.819e-11
    reactionIncInertia  (time, nodeTags, DOFs) float32 72kB 0.0 ... -1.819e-11
    vel                 (time, nodeTags, DOFs) float32 72kB 0.0 0.0 ... 0.0 0.0
----------------------------------------------------------------------------------------------------
dimensions: FrozenMappingWarningOnValuesAccess({&#39;time&#39;: 501, &#39;nodeTags&#39;: 6, &#39;DOFs&#39;: 6})
----------------------------------------------------------------------------------------------------
coordinates: Coordinates:
  * time      (time) float32 2kB 0.0 1.138 2.277 3.415 ... 175.9 176.0 176.0
  * nodeTags  (nodeTags) int64 48B 1 2 3 4 5 6
  * DOFs      (DOFs) &lt;U2 48B &#39;UX&#39; &#39;UY&#39; &#39;UZ&#39; &#39;RX&#39; &#39;RY&#39; &#39;RZ&#39;
</pre></div>
</div>
<p>We use the <code class="docutils literal notranslate"><span class="pre">.sel</span></code> method to retrieve the displacement of node 5 on UX and total reaction force:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">times</span> <span class="o">=</span> <span class="n">node_resp</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span>
<span class="n">disp</span> <span class="o">=</span> <span class="n">node_resp</span><span class="p">[</span><span class="s2">&quot;disp&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">nodeTags</span><span class="o">=</span><span class="n">ctrlNode</span><span class="p">,</span> <span class="n">DOFs</span><span class="o">=</span><span class="n">dof</span><span class="p">)</span>
<span class="n">force</span> <span class="o">=</span> <span class="o">-</span><span class="n">node_resp</span><span class="p">[</span><span class="s2">&quot;reaction&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">DOFs</span><span class="o">=</span><span class="n">dof</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;nodeTags&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Plotting</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">times</span><span class="p">,</span> <span class="n">force</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Time (s)&quot;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">disp</span><span class="p">,</span> <span class="n">force</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Displacement of Node </span><span class="si">{</span><span class="n">ctrlNode</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">length_unit</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axs</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total Reaction Force (</span><span class="si">{</span><span class="n">force_unit</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="c1"># ax.grid()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img src="../../../_images/sphx_glr_ex-sensitivity2_002.png" srcset="../../../_images/sphx_glr_ex-sensitivity2_002.png" alt="ex sensitivity2" class = "sphx-glr-single-img"/></section>
<section id="loading-the-sensitivity-response-data">
<h3>Loading the sensitivity response data<a class="headerlink" href="#loading-the-sensitivity-response-data" title="Link to this heading">¶</a></h3>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">sens_resp</span> <span class="o">=</span> <span class="n">opst</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">get_sensitivity_responses</span><span class="p">(</span><span class="n">odb_tag</span><span class="o">=</span><span class="s2">&quot;sensitivity-pushover&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;data variables:&quot;</span><span class="p">,</span> <span class="n">sens_resp</span><span class="o">.</span><span class="n">data_vars</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;dimensions:&quot;</span><span class="p">,</span> <span class="n">sens_resp</span><span class="o">.</span><span class="n">dims</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;coordinates:&quot;</span><span class="p">,</span> <span class="n">sens_resp</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>OPSTOOL ::  Loading response data from G:\opstool\docs\.opstool.output/RespStepData-sensitivity-pushover.zarr
...
data variables: Data variables:
    disp      (time, paraTags, nodeTags, DOFs) float32 216kB 0.0 0.0 ... 0.4655
    accel     (time, paraTags, nodeTags, DOFs) float32 216kB 0.0 0.0 ... 0.0 0.0
    lambdas   (time, paraTags, patternTags) float32 12kB 0.0 0.0 ... 1.111e+03
    pressure  (time, paraTags, nodeTags) float32 36kB 0.0 0.0 0.0 ... 0.0 0.0
    vel       (time, paraTags, nodeTags, DOFs) float32 216kB 0.0 0.0 ... 0.0 0.0
----------------------------------------------------------------------------------------------------
dimensions: FrozenMappingWarningOnValuesAccess({&#39;time&#39;: 501, &#39;paraTags&#39;: 3, &#39;nodeTags&#39;: 6, &#39;DOFs&#39;: 6, &#39;patternTags&#39;: 2})
----------------------------------------------------------------------------------------------------
coordinates: Coordinates:
  * paraTags     (paraTags) int64 24B 1 2 3
  * nodeTags     (nodeTags) int64 48B 1 2 3 4 5 6
  * DOFs         (DOFs) &lt;U2 48B &#39;UX&#39; &#39;UY&#39; &#39;UZ&#39; &#39;RX&#39; &#39;RY&#39; &#39;RZ&#39;
  * patternTags  (patternTags) int64 16B 1 2
</pre></div>
</div>
<p>Get all parameter tags:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">paraTags</span> <span class="o">=</span> <span class="n">sens_resp</span><span class="o">.</span><span class="n">paraTags</span><span class="o">.</span><span class="n">data</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;parameter tags:&quot;</span><span class="p">,</span> <span class="n">paraTags</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>parameter tags: [1 2 3]
</pre></div>
</div>
</section>
<section id="sensitivity-of-load-multipliers-to-various-parameters">
<h3>Sensitivity of load multipliers to various parameters<a class="headerlink" href="#sensitivity-of-load-multipliers-to-various-parameters" title="Link to this heading">¶</a></h3>
<p>Retrieve the sensitivity of the load multiplier to various parameters in load pattern 2:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">sens_lambda</span> <span class="o">=</span> <span class="n">sens_resp</span><span class="p">[</span><span class="s2">&quot;lambdas&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">patternTags</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sens_lambda</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;xarray.DataArray &#39;lambdas&#39; (time: 501, paraTags: 3)&gt; Size: 6kB
array([[0.0000000e+00, 0.0000000e+00, 0.0000000e+00],
       [1.9715560e-05, 0.0000000e+00, 3.6402207e-02],
       [3.9431176e-05, 0.0000000e+00, 7.2804511e-02],
       ...,
       [5.0192908e-04, 1.4227666e+00, 1.1059608e+03],
       [5.0287606e-04, 1.4227755e+00, 1.1085642e+03],
       [5.0382304e-04, 1.4227844e+00, 1.1111677e+03]],
      shape=(501, 3), dtype=float32)
Coordinates:
  * paraTags     (paraTags) int64 24B 1 2 3
    patternTags  int64 8B 2
Dimensions without coordinates: time
</pre></div>
</div>
</section>
<section id="plotting">
<h3>Plotting<a class="headerlink" href="#plotting" title="Link to this heading">¶</a></h3>
<p>The left column shows the sensitivity of load multiplier <span class="math notranslate nohighlight">\(\lambda\)</span> to each parameter <span class="math notranslate nohighlight">\(P\)</span> and the product of the parameter value:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\left( \partial \lambda/\partial {P} \right){P}\]</div>
</div>
<p>The right column shows the hysteresis diagram of displacement <span class="math notranslate nohighlight">\(U\)</span> and total reaction force <span class="math notranslate nohighlight">\(V_b\)</span>, where the <span class="math notranslate nohighlight">\(\lambda\)</span> includes a sensitivity change of 1 times, i.e., <span class="math notranslate nohighlight">\(\left( \partial \lambda/\partial {P} \right){P}\)</span></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">paraTags</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">paraTags</span><span class="p">)))</span>

<span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">para_tag</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">paraTags</span><span class="p">):</span>
    <span class="n">para_value</span> <span class="o">=</span> <span class="n">ParamVars</span><span class="p">[</span><span class="n">para_tag</span><span class="p">]</span>
    <span class="n">para_sym</span> <span class="o">=</span> <span class="n">ParamSym</span><span class="p">[</span><span class="n">para_tag</span><span class="p">]</span>
    <span class="n">sens</span> <span class="o">=</span> <span class="n">sens_lambda</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">paraTags</span><span class="o">=</span><span class="n">para_tag</span><span class="p">)</span>
    <span class="c1"># Subplot #i</span>
    <span class="c1"># ----------</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">disp</span><span class="p">,</span> <span class="n">sens</span> <span class="o">*</span> <span class="n">para_value</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;#136ad5&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;DDM&quot;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">disp</span><span class="p">,</span> <span class="n">sens</span> <span class="o">*</span> <span class="n">para_value</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#fb8a2e&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.35</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;$(</span><span class="se">\\</span><span class="s2">partial </span><span class="se">\\</span><span class="s2">lambda/</span><span class="se">\\</span><span class="s2">partial </span><span class="si">{</span><span class="n">para_sym</span><span class="si">}</span><span class="s2">)</span><span class="si">{</span><span class="n">para_sym</span><span class="si">}</span><span class="s2">$ [</span><span class="si">{</span><span class="n">force_unit</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>

    <span class="c1"># Subplot #ii</span>
    <span class="c1"># -----------</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">disp</span><span class="p">,</span> <span class="n">force</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;#136ad5&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;$</span><span class="se">\\</span><span class="s2">lambda$&quot;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
        <span class="n">disp</span><span class="p">,</span>
        <span class="n">force</span> <span class="o">+</span> <span class="n">sens</span> <span class="o">*</span> <span class="n">para_value</span><span class="p">,</span>
        <span class="n">c</span><span class="o">=</span><span class="s2">&quot;#136ad5&quot;</span><span class="p">,</span>
        <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span>
        <span class="n">linewidth</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;$</span><span class="se">\\</span><span class="s2">lambda + (</span><span class="se">\\</span><span class="s2">partial </span><span class="se">\\</span><span class="s2">lambda/</span><span class="se">\\</span><span class="s2">partial </span><span class="si">{</span><span class="n">para_sym</span><span class="si">}</span><span class="s2">)</span><span class="si">{</span><span class="n">para_sym</span><span class="si">}</span><span class="s2">$&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
        <span class="n">disp</span><span class="p">,</span>
        <span class="n">force</span> <span class="o">-</span> <span class="n">sens</span> <span class="o">*</span> <span class="n">para_value</span><span class="p">,</span>
        <span class="n">c</span><span class="o">=</span><span class="s2">&quot;#136ad5&quot;</span><span class="p">,</span>
        <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-.&quot;</span><span class="p">,</span>
        <span class="n">linewidth</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;$</span><span class="se">\\</span><span class="s2">lambda - (</span><span class="se">\\</span><span class="s2">partial </span><span class="se">\\</span><span class="s2">lambda/</span><span class="se">\\</span><span class="s2">partial </span><span class="si">{</span><span class="n">para_sym</span><span class="si">}</span><span class="s2">)</span><span class="si">{</span><span class="n">para_sym</span><span class="si">}</span><span class="s2">$&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span>
        <span class="n">disp</span><span class="p">,</span>
        <span class="n">force</span> <span class="o">+</span> <span class="n">sens</span> <span class="o">*</span> <span class="n">para_value</span><span class="p">,</span>
        <span class="n">force</span> <span class="o">-</span> <span class="n">sens</span> <span class="o">*</span> <span class="n">para_value</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#fb8a2e&quot;</span><span class="p">,</span>
        <span class="n">alpha</span><span class="o">=</span><span class="mf">0.35</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">axs</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;$V_b$ [</span><span class="si">{</span><span class="n">force_unit</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>

<span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axs</span><span class="o">.</span><span class="n">flat</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="s2">&quot;in&quot;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;silver&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;solid&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Roof Displacement, $U$ [</span><span class="si">{</span><span class="n">length_unit</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img src="../../../_images/sphx_glr_ex-sensitivity2_003.png" srcset="../../../_images/sphx_glr_ex-sensitivity2_003.png" alt="ex sensitivity2" class = "sphx-glr-single-img"/><p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 2.422 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-examples-postprocessing-ex-sensitivity2-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../../_downloads/8c46b33ddc9cdc0441bb0cbbb227b907/ex-sensitivity2.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">ex-sensitivity2.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../../_downloads/a285231a032d969ddffd296d0fa1104a/ex-sensitivity2.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">ex-sensitivity2.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../../../_downloads/c37ca89814237c220d0aae3d35392a7f/ex-sensitivity2.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">ex-sensitivity2.zip</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="ex-ssi-Gu.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Soil-Structure Interaction</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="ex-nonlinear-frame-transient.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">3D Nonlinear beam-column elements Gravity load analysis followed by transient analysis</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Yexiang Yan
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Two storey steel moment frame with W-sections for displacement-controlled sensitivity analysis</a><ul>
<li><a class="reference internal" href="#opensees-model">OpenSees Model</a><ul>
<li><a class="reference internal" href="#define-model">Define model</a></li>
<li><a class="reference internal" href="#define-sensitivity-parameters">Define Sensitivity Parameters</a></li>
<li><a class="reference internal" href="#run-gravity-analysis-in-10-steps">Run gravity analysis (in 10 steps)</a></li>
<li><a class="reference internal" href="#run-sensitivity-and-pushover-analysis">Run sensitivity and pushover analysis</a><ul>
<li><a class="reference internal" href="#run-the-analysis">Run the analysis</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#post-processing">Post-processing</a><ul>
<li><a class="reference internal" href="#loading-node-response">Loading node response</a></li>
<li><a class="reference internal" href="#loading-the-sensitivity-response-data">Loading the sensitivity response data</a></li>
<li><a class="reference internal" href="#sensitivity-of-load-multipliers-to-various-parameters">Sensitivity of load multipliers to various parameters</a></li>
<li><a class="reference internal" href="#plotting">Plotting</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../../_static/documentation_options.js?v=665f1cdb"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../../../_static/thebelab-helper.js"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>